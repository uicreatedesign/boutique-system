import{c as se,e as te,r as w,j as s,L as $,a as A,H as ae}from"./app-s6NgXo84.js";import{P as re}from"./pagination-noA2w0kL.js";import{B as le,S as ce,A as ne}from"./app-layout-MdC0vklR.js";import{B as R}from"./app-logo-icon-B0fBNtIv.js";import{b as ie,C as oe,a as me,c as de}from"./card-DnZVNnqQ.js";import{I as he}from"./input-DxU08Nhu.js";import{S as K,a as Q,b as X,c as Y,d as g}from"./select-BjCV3DtF.js";import{u as xe}from"./use-currency-BlFb6ziy.js";import{S as l}from"./skeleton-CTqK9_9c.js";import{E as pe}from"./eye-DyOEhfb-.js";import{S as fe}from"./square-pen-CiBZ44MO.js";import{P as je}from"./printer-DLw3R-ak.js";import{P as ue}from"./plus-DOT8cK_l.js";/* empty css            */import"./chevron-left-Ba_dhvvN.js";import"./index-_mjGiuzX.js";import"./index-COLmkTQT.js";import"./index-Cm2o4msX.js";import"./index-D3q0pOp_.js";import"./check-GKsih9Bs.js";const Ne=[{title:"Orders",href:"/orders"}];function Fe(c){const e=se.c(51),{orders:a,statuses:I,filters:Z,canCreate:M,canEdit:q,canGenerateInvoice:W}=c,U=M===void 0?!1:M,B=q===void 0?!1:q,G=W===void 0?!1:W,{url:T}=te(),J=new URLSearchParams(window.location.search),[_,z]=w.useState(Z.per_page||10),[D,n]=w.useState(J.get("search")||""),[F,ee]=w.useState(J.get("status")||""),[H]=w.useState(!1),{formatCurrency:V}=xe();let b;e[0]!==n?(b=()=>{const r=new URLSearchParams(window.location.search).get("search");r&&n(r)},e[0]=n,e[1]=b):b=e[1];let S;e[2]!==T?(S=[T],e[2]=T,e[3]=S):S=e[3],w.useEffect(b,S);let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(ae,{title:"Orders"}),e[4]=v):v=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),e[5]=y):y=e[5];let i;e[6]!==U?(i=U&&s.jsx($,{href:"/orders/create",children:s.jsxs(R,{children:[s.jsx(ue,{className:"h-4 w-4 mr-2"}),"Create Order"]})}),e[6]=U,e[7]=i):i=e[7];let o;e[8]!==i?(o=s.jsxs("div",{className:"flex items-center justify-between",children:[y,i]}),e[8]=i,e[9]=o):o=e[9];let P;e[10]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(oe,{children:"Order List"}),e[10]=P):P=e[10];let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e[11]=C):C=e[11];let m;e[12]!==n?(m=t=>{n(t.target.value);const r=new URLSearchParams(window.location.search);t.target.value?r.set("search",t.target.value):r.delete("search"),A.get("/orders",Object.fromEntries(r),{preserveState:!0,replace:!0})},e[12]=n,e[13]=m):m=e[13];let d;e[14]!==D||e[15]!==m?(d=s.jsxs("div",{className:"relative w-full sm:w-64",children:[C,s.jsx(he,{placeholder:"Search orders...",value:D,onChange:m,className:"pl-10 w-full"})]}),e[14]=D,e[15]=m,e[16]=d):d=e[16];let L;e[17]===Symbol.for("react.memo_cache_sentinel")?(L=t=>{ee(t);const r=new URLSearchParams(window.location.search);t&&t!=="all"?r.set("status",t):r.delete("status"),A.get("/orders",Object.fromEntries(r),{preserveState:!0,replace:!0})},e[17]=L):L=e[17];let O;e[18]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(Q,{className:"w-full sm:w-40",children:s.jsx(X,{placeholder:"All Status"})}),e[18]=O):O=e[18];let E;e[19]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(g,{value:"all",children:"All Status"}),e[19]=E):E=e[19];let h;e[20]!==I?(h=I.map(we),e[20]=I,e[21]=h):h=e[21];let x;e[22]!==h?(x=s.jsxs(Y,{children:[E,h]}),e[22]=h,e[23]=x):x=e[23];let p;e[24]!==F||e[25]!==x?(p=s.jsxs(K,{value:F,onValueChange:L,children:[O,x]}),e[24]=F,e[25]=x,e[26]=p):p=e[26];let f;e[27]!==d||e[28]!==p?(f=s.jsx(me,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[P,s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d,p]})]})}),e[27]=d,e[28]=p,e[29]=f):f=e[29];let j;e[30]!==B||e[31]!==G||e[32]!==V||e[33]!==H||e[34]!==a.data?(j=s.jsx(ie,{children:H?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4",children:"Order #"}),s.jsx("th",{className:"text-left p-4",children:"Customer"}),s.jsx("th",{className:"text-left p-4",children:"Garment"}),s.jsx("th",{className:"text-left p-4",children:"Tailor"}),s.jsx("th",{className:"text-left p-4",children:"Status"}),s.jsx("th",{className:"text-left p-4",children:"Delivery"}),s.jsx("th",{className:"text-left p-4",children:"Amount"}),s.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),s.jsx("tbody",{children:[...Array(5)].map(ge)})]})}):a.data.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[s.jsx("svg",{className:"w-48 h-48 mb-6 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Orders Found"}),s.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"Get started by creating your first order."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4",children:"Order #"}),s.jsx("th",{className:"text-left p-4",children:"Customer"}),s.jsx("th",{className:"text-left p-4",children:"Garment"}),s.jsx("th",{className:"text-left p-4",children:"Tailor"}),s.jsx("th",{className:"text-left p-4",children:"Status"}),s.jsx("th",{className:"text-left p-4",children:"Delivery"}),s.jsx("th",{className:"text-left p-4",children:"Amount"}),s.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),s.jsx("tbody",{children:a.data.map(t=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-[oklch(0.269_0_0)]",children:[s.jsx("td",{className:"p-4 font-medium",children:t.order_number}),s.jsx("td",{className:"p-4",children:t.customer.name}),s.jsx("td",{className:"p-4",children:t.garment_type.name}),s.jsx("td",{className:"p-4",children:t.tailor.name}),s.jsx("td",{className:"p-4",children:s.jsx(le,{style:{backgroundColor:t.stitching_status.color},children:t.stitching_status.name})}),s.jsx("td",{className:"p-4 text-sm",children:new Date(t.delivery_date).toLocaleDateString()}),s.jsx("td",{className:"p-4",children:V(t.total_amount)}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{href:`/orders/${t.id}`,children:s.jsx(R,{size:"sm",variant:"outline",children:s.jsx(pe,{className:"h-4 w-4"})})}),B&&s.jsx($,{href:`/orders/${t.id}/edit`,children:s.jsx(R,{size:"sm",variant:"outline",children:s.jsx(fe,{className:"h-4 w-4"})})}),G&&s.jsx("a",{href:`/orders/${t.id}/invoice`,target:"_blank",rel:"noopener noreferrer",children:s.jsx(R,{size:"sm",variant:"outline",children:s.jsx(je,{className:"h-4 w-4"})})})]})})]},t.id))})]})})}),e[30]=B,e[31]=G,e[32]=V,e[33]=H,e[34]=a.data,e[35]=j):j=e[35];let u;e[36]!==f||e[37]!==j?(u=s.jsxs(de,{children:[f,j]}),e[36]=f,e[37]=j,e[38]=u):u=e[38];let N;e[39]!==a.current_page||e[40]!==a.data.length||e[41]!==a.last_page||e[42]!==a.per_page||e[43]!==a.total||e[44]!==_||e[45]!==z?(N=a.data.length>0&&s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rows per page:"}),s.jsxs(K,{value:_.toString(),onValueChange:t=>{z(Number(t));const r=new URLSearchParams(window.location.search);r.set("per_page",t),A.get("/orders",Object.fromEntries(r),{preserveState:!0})},children:[s.jsx(Q,{className:"w-[70px]",children:s.jsx(X,{})}),s.jsxs(Y,{children:[s.jsx(g,{value:"10",children:"10"}),s.jsx(g,{value:"25",children:"25"}),s.jsx(g,{value:"50",children:"50"}),s.jsx(g,{value:"100",children:"100"})]})]})]}),s.jsx(re,{currentPage:a.current_page,totalPages:a.last_page,onPageChange:t=>{const r=new URLSearchParams(window.location.search);r.set("page",t.toString()),r.set("per_page",_.toString()),A.get("/orders",Object.fromEntries(r),{preserveState:!0})},showingFrom:(a.current_page-1)*a.per_page+1,showingTo:Math.min(a.current_page*a.per_page,a.total),total:a.total})]}),e[39]=a.current_page,e[40]=a.data.length,e[41]=a.last_page,e[42]=a.per_page,e[43]=a.total,e[44]=_,e[45]=z,e[46]=N):N=e[46];let k;return e[47]!==u||e[48]!==N||e[49]!==o?(k=s.jsxs(ne,{breadcrumbs:Ne,children:[v,s.jsxs("div",{className:"space-y-6 p-4",children:[o,u,N]})]}),e[47]=u,e[48]=N,e[49]=o,e[50]=k):k=e[50],k}function ge(c,e){return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4",children:s.jsx(l,{className:"h-5 w-32"})}),s.jsx("td",{className:"p-4",children:s.jsx(l,{className:"h-4 w-28"})}),s.jsx("td",{className:"p-4",children:s.jsx(l,{className:"h-4 w-24"})}),s.jsx("td",{className:"p-4",children:s.jsx(l,{className:"h-4 w-28"})}),s.jsx("td",{className:"p-4",children:s.jsx(l,{className:"h-6 w-20"})}),s.jsx("td",{className:"p-4",children:s.jsx(l,{className:"h-4 w-24"})}),s.jsx("td",{className:"p-4",children:s.jsx(l,{className:"h-4 w-20"})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(l,{className:"h-9 w-9"}),s.jsx(l,{className:"h-9 w-9"})]})})]},e)}function we(c){return s.jsx(g,{value:c.id.toString(),children:c.name},c.id)}export{Fe as default};
