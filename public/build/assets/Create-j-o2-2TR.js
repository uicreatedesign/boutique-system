import{c as pt,r as jt,u as vt,j as t,d as yt,H as gt,t as mt}from"./app-DTo2FTxs.js";import{A as bt}from"./app-layout-B3SeW2qZ.js";import{B as ot}from"./app-logo-icon-B1Mtblg5.js";import{I as je}from"./input-BfO7uzZJ.js";import{L as n}from"./label-BLO8VIu8.js";import{T as dt}from"./textarea-CNpkkEpK.js";import{S as o,a as d,b as m,c as _,d as c}from"./select-BqzgTI5g.js";import{a as St,C as Ct,c as Nt,b as Dt}from"./card-BL35Il8r.js";import{C as Tt}from"./checkbox-D8qZ0c5c.js";/* empty css            */import"./index-BdY8YYy_.js";import"./index-BSESEqcn.js";import"./index-C4J_hXM0.js";import"./index-C88bAcDl.js";import"./check-gxZKF8FG.js";function Zt(r){const e=pt.c(197),{customers:Xe,garmentTypes:Ye,tailors:Ze,fabrics:et,statuses:f}=r;let ve;e[0]===Symbol.for("react.memo_cache_sentinel")?(ve=[],e[0]=ve):ve=e[0];const[tt,ct]=jt.useState(ve);let h;e[1]!==f[0]?.id?(h=f[0]?.id.toString()||"",e[1]=f[0]?.id,e[2]=h):h=e[2];let ye;e[3]===Symbol.for("react.memo_cache_sentinel")?(ye=new Date().toISOString().split("T"),e[3]=ye):ye=e[3];let ge;e[4]!==h?(ge={customer_id:"",garment_type_id:"",tailor_id:"",measurement_id:"",fabric_id:"",customer_fabric:!1,stitching_status_id:h,order_date:ye[0],delivery_date:"",priority:"normal",total_amount:"",advance_paid:"",discount:"0",special_instructions:"",notes:""},e[4]=h,e[5]=ge):ge=e[5];const{data:l,setData:s,post:lt,processing:be,errors:a}=vt(ge);let Se;e[6]!==s?(Se=async i=>{if(s("customer_id",i),i)try{const nt=await yt.get(`/api/measurements?customer_id=${i}`);ct(nt.data)}catch(nt){console.error("Failed to fetch measurements:",nt)}else ct([])},e[6]=s,e[7]=Se):Se=e[7];const st=Se;let Ce;e[8]!==lt?(Ce=i=>{i.preventDefault(),lt("/orders",{onSuccess:Ht,onError:Lt})},e[8]=lt,e[9]=Ce):Ce=e[9];const it=Ce;let Ne;e[10]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(gt,{title:"Create Order"}),e[10]=Ne):Ne=e[10];let De;e[11]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx("h1",{className:"text-3xl font-bold",children:"Create Order"}),e[11]=De):De=e[11];let Te;e[12]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(St,{children:t.jsx(Ct,{children:"Order Details"})}),e[12]=Te):Te=e[12];let Oe;e[13]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(n,{children:"Customer *"}),e[13]=Oe):Oe=e[13];const _t=l.customer_id;let Ve;e[14]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx(d,{children:t.jsx(m,{placeholder:"Select customer"})}),e[14]=Ve):Ve=e[14];let u;e[15]!==Xe?(u=Xe.map(Et),e[15]=Xe,e[16]=u):u=e[16];let x;e[17]!==u?(x=t.jsx(_,{children:u}),e[17]=u,e[18]=x):x=e[18];let p;e[19]!==l.customer_id||e[20]!==st||e[21]!==x?(p=t.jsxs(o,{value:_t,onValueChange:st,children:[Ve,x]}),e[19]=l.customer_id,e[20]=st,e[21]=x,e[22]=p):p=e[22];let j;e[23]!==a.customer_id?(j=a.customer_id&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.customer_id}),e[23]=a.customer_id,e[24]=j):j=e[24];let v;e[25]!==p||e[26]!==j?(v=t.jsxs("div",{children:[Oe,p,j]}),e[25]=p,e[26]=j,e[27]=v):v=e[27];let we;e[28]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(n,{children:"Garment Type *"}),e[28]=we):we=e[28];const ft=l.garment_type_id;let y;e[29]!==s?(y=i=>s("garment_type_id",i),e[29]=s,e[30]=y):y=e[30];let ke;e[31]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(d,{children:t.jsx(m,{placeholder:"Select garment type"})}),e[31]=ke):ke=e[31];let g;e[32]!==Ye?(g=Ye.map(At),e[32]=Ye,e[33]=g):g=e[33];let b;e[34]!==g?(b=t.jsx(_,{children:g}),e[34]=g,e[35]=b):b=e[35];let S;e[36]!==l.garment_type_id||e[37]!==y||e[38]!==b?(S=t.jsxs(o,{value:ft,onValueChange:y,children:[ke,b]}),e[36]=l.garment_type_id,e[37]=y,e[38]=b,e[39]=S):S=e[39];let C;e[40]!==a.garment_type_id?(C=a.garment_type_id&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.garment_type_id}),e[40]=a.garment_type_id,e[41]=C):C=e[41];let N;e[42]!==S||e[43]!==C?(N=t.jsxs("div",{children:[we,S,C]}),e[42]=S,e[43]=C,e[44]=N):N=e[44];let D;e[45]!==v||e[46]!==N?(D=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v,N]}),e[45]=v,e[46]=N,e[47]=D):D=e[47];let Fe;e[48]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(n,{children:"Tailor *"}),e[48]=Fe):Fe=e[48];const ht=l.tailor_id;let T;e[49]!==s?(T=i=>s("tailor_id",i),e[49]=s,e[50]=T):T=e[50];let Ae;e[51]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(d,{children:t.jsx(m,{placeholder:"Select tailor"})}),e[51]=Ae):Ae=e[51];let O;e[52]!==Ze?(O=Ze.map(Ft),e[52]=Ze,e[53]=O):O=e[53];let V;e[54]!==O?(V=t.jsx(_,{children:O}),e[54]=O,e[55]=V):V=e[55];let w;e[56]!==l.tailor_id||e[57]!==T||e[58]!==V?(w=t.jsxs(o,{value:ht,onValueChange:T,children:[Ae,V]}),e[56]=l.tailor_id,e[57]=T,e[58]=V,e[59]=w):w=e[59];let k;e[60]!==a.tailor_id?(k=a.tailor_id&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.tailor_id}),e[60]=a.tailor_id,e[61]=k):k=e[61];let F;e[62]!==w||e[63]!==k?(F=t.jsxs("div",{children:[Fe,w,k]}),e[62]=w,e[63]=k,e[64]=F):F=e[64];let Ee;e[65]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(n,{children:"Measurement"}),e[65]=Ee):Ee=e[65];const ut=l.measurement_id;let A;e[66]!==s?(A=i=>s("measurement_id",i),e[66]=s,e[67]=A):A=e[67];const rt=!l.customer_id;let Le;e[68]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx(d,{children:t.jsx(m,{placeholder:"Select measurement"})}),e[68]=Le):Le=e[68];let E;e[69]!==tt?(E=tt.map(kt),e[69]=tt,e[70]=E):E=e[70];let L;e[71]!==E?(L=t.jsx(_,{children:E}),e[71]=E,e[72]=L):L=e[72];let H;e[73]!==l.measurement_id||e[74]!==A||e[75]!==rt||e[76]!==L?(H=t.jsxs("div",{children:[Ee,t.jsxs(o,{value:ut,onValueChange:A,disabled:rt,children:[Le,L]})]}),e[73]=l.measurement_id,e[74]=A,e[75]=rt,e[76]=L,e[77]=H):H=e[77];let I;e[78]!==F||e[79]!==H?(I=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F,H]}),e[78]=F,e[79]=H,e[80]=I):I=e[80];let $;e[81]!==s?($=i=>s("customer_fabric",i),e[81]=s,e[82]=$):$=e[82];let B;e[83]!==l.customer_fabric||e[84]!==$?(B=t.jsx(Tt,{id:"customer_fabric",checked:l.customer_fabric,onCheckedChange:$}),e[83]=l.customer_fabric,e[84]=$,e[85]=B):B=e[85];let He;e[86]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx("label",{htmlFor:"customer_fabric",className:"text-sm cursor-pointer",children:"Customer provided fabric"}),e[86]=He):He=e[86];let M;e[87]!==B?(M=t.jsxs("div",{className:"flex items-center space-x-2",children:[B,He]}),e[87]=B,e[88]=M):M=e[88];let P;e[89]!==l.customer_fabric||e[90]!==l.fabric_id||e[91]!==et||e[92]!==s?(P=!l.customer_fabric&&t.jsxs("div",{children:[t.jsx(n,{children:"Fabric"}),t.jsxs(o,{value:l.fabric_id,onValueChange:i=>s("fabric_id",i),children:[t.jsx(d,{children:t.jsx(m,{placeholder:"Select fabric"})}),t.jsx(_,{children:et.map(wt)})]})]}),e[89]=l.customer_fabric,e[90]=l.fabric_id,e[91]=et,e[92]=s,e[93]=P):P=e[93];let Ie;e[94]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(n,{children:"Order Date *"}),e[94]=Ie):Ie=e[94];let R;e[95]!==s?(R=i=>s("order_date",i.target.value),e[95]=s,e[96]=R):R=e[96];let G;e[97]!==l.order_date||e[98]!==R?(G=t.jsx(je,{type:"date",value:l.order_date,onChange:R}),e[97]=l.order_date,e[98]=R,e[99]=G):G=e[99];let U;e[100]!==a.order_date?(U=a.order_date&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.order_date}),e[100]=a.order_date,e[101]=U):U=e[101];let q;e[102]!==G||e[103]!==U?(q=t.jsxs("div",{children:[Ie,G,U]}),e[102]=G,e[103]=U,e[104]=q):q=e[104];let $e;e[105]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsx(n,{children:"Delivery Date *"}),e[105]=$e):$e=e[105];let z;e[106]!==s?(z=i=>s("delivery_date",i.target.value),e[106]=s,e[107]=z):z=e[107];let J;e[108]!==l.delivery_date||e[109]!==z?(J=t.jsx(je,{type:"date",value:l.delivery_date,onChange:z}),e[108]=l.delivery_date,e[109]=z,e[110]=J):J=e[110];let K;e[111]!==a.delivery_date?(K=a.delivery_date&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.delivery_date}),e[111]=a.delivery_date,e[112]=K):K=e[112];let Q;e[113]!==J||e[114]!==K?(Q=t.jsxs("div",{children:[$e,J,K]}),e[113]=J,e[114]=K,e[115]=Q):Q=e[115];let Be;e[116]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx(n,{children:"Priority *"}),e[116]=Be):Be=e[116];let W;e[117]!==s?(W=i=>s("priority",i),e[117]=s,e[118]=W):W=e[118];let Me;e[119]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(d,{children:t.jsx(m,{})}),e[119]=Me):Me=e[119];let Pe;e[120]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsxs(_,{children:[t.jsx(c,{value:"normal",children:"Normal"}),t.jsx(c,{value:"urgent",children:"Urgent"})]}),e[120]=Pe):Pe=e[120];let X;e[121]!==l.priority||e[122]!==W?(X=t.jsxs("div",{children:[Be,t.jsxs(o,{value:l.priority,onValueChange:W,children:[Me,Pe]})]}),e[121]=l.priority,e[122]=W,e[123]=X):X=e[123];let Y;e[124]!==q||e[125]!==Q||e[126]!==X?(Y=t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[q,Q,X]}),e[124]=q,e[125]=Q,e[126]=X,e[127]=Y):Y=e[127];let Re;e[128]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx(n,{children:"Total Amount *"}),e[128]=Re):Re=e[128];let Z;e[129]!==s?(Z=i=>s("total_amount",i.target.value),e[129]=s,e[130]=Z):Z=e[130];let ee;e[131]!==l.total_amount||e[132]!==Z?(ee=t.jsx(je,{type:"number",step:"0.01",value:l.total_amount,onChange:Z,placeholder:"0.00"}),e[131]=l.total_amount,e[132]=Z,e[133]=ee):ee=e[133];let te;e[134]!==a.total_amount?(te=a.total_amount&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.total_amount}),e[134]=a.total_amount,e[135]=te):te=e[135];let le;e[136]!==ee||e[137]!==te?(le=t.jsxs("div",{children:[Re,ee,te]}),e[136]=ee,e[137]=te,e[138]=le):le=e[138];let Ge;e[139]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsx(n,{children:"Advance Paid"}),e[139]=Ge):Ge=e[139];let se;e[140]!==s?(se=i=>s("advance_paid",i.target.value),e[140]=s,e[141]=se):se=e[141];let ie;e[142]!==l.advance_paid||e[143]!==se?(ie=t.jsxs("div",{children:[Ge,t.jsx(je,{type:"number",step:"0.01",value:l.advance_paid,onChange:se,placeholder:"0.00"})]}),e[142]=l.advance_paid,e[143]=se,e[144]=ie):ie=e[144];let Ue;e[145]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(n,{children:"Discount"}),e[145]=Ue):Ue=e[145];let re;e[146]!==s?(re=i=>s("discount",i.target.value),e[146]=s,e[147]=re):re=e[147];let ae;e[148]!==l.discount||e[149]!==re?(ae=t.jsxs("div",{children:[Ue,t.jsx(je,{type:"number",step:"0.01",value:l.discount,onChange:re,placeholder:"0.00"})]}),e[148]=l.discount,e[149]=re,e[150]=ae):ae=e[150];let ne;e[151]!==le||e[152]!==ie||e[153]!==ae?(ne=t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[le,ie,ae]}),e[151]=le,e[152]=ie,e[153]=ae,e[154]=ne):ne=e[154];let qe;e[155]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsx(n,{children:"Status *"}),e[155]=qe):qe=e[155];const xt=l.stitching_status_id;let ce;e[156]!==s?(ce=i=>s("stitching_status_id",i),e[156]=s,e[157]=ce):ce=e[157];let ze;e[158]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx(d,{children:t.jsx(m,{})}),e[158]=ze):ze=e[158];let oe;e[159]!==f?(oe=f.map(Vt),e[159]=f,e[160]=oe):oe=e[160];let de;e[161]!==oe?(de=t.jsx(_,{children:oe}),e[161]=oe,e[162]=de):de=e[162];let me;e[163]!==l.stitching_status_id||e[164]!==ce||e[165]!==de?(me=t.jsxs("div",{children:[qe,t.jsxs(o,{value:xt,onValueChange:ce,children:[ze,de]})]}),e[163]=l.stitching_status_id,e[164]=ce,e[165]=de,e[166]=me):me=e[166];let Je;e[167]===Symbol.for("react.memo_cache_sentinel")?(Je=t.jsx(n,{children:"Special Instructions"}),e[167]=Je):Je=e[167];let _e;e[168]!==s?(_e=i=>s("special_instructions",i.target.value),e[168]=s,e[169]=_e):_e=e[169];let fe;e[170]!==l.special_instructions||e[171]!==_e?(fe=t.jsxs("div",{children:[Je,t.jsx(dt,{value:l.special_instructions,onChange:_e,rows:3})]}),e[170]=l.special_instructions,e[171]=_e,e[172]=fe):fe=e[172];let Ke;e[173]===Symbol.for("react.memo_cache_sentinel")?(Ke=t.jsx(n,{children:"Notes"}),e[173]=Ke):Ke=e[173];let he;e[174]!==s?(he=i=>s("notes",i.target.value),e[174]=s,e[175]=he):he=e[175];let ue;e[176]!==l.notes||e[177]!==he?(ue=t.jsxs("div",{children:[Ke,t.jsx(dt,{value:l.notes,onChange:he,rows:2})]}),e[176]=l.notes,e[177]=he,e[178]=ue):ue=e[178];let Qe;e[179]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx(ot,{type:"button",variant:"outline",onClick:Ot,children:"Cancel"}),e[179]=Qe):Qe=e[179];const at=be?"Creating...":"Create Order";let xe;e[180]!==be||e[181]!==at?(xe=t.jsxs("div",{className:"flex justify-end gap-2",children:[Qe,t.jsx(ot,{type:"submit",disabled:be,children:at})]}),e[180]=be,e[181]=at,e[182]=xe):xe=e[182];let pe;e[183]!==D||e[184]!==I||e[185]!==M||e[186]!==P||e[187]!==Y||e[188]!==ne||e[189]!==me||e[190]!==fe||e[191]!==ue||e[192]!==xe?(pe=t.jsxs(Nt,{children:[Te,t.jsxs(Dt,{className:"space-y-4",children:[D,I,M,P,Y,ne,me,fe,ue,xe]})]}),e[183]=D,e[184]=I,e[185]=M,e[186]=P,e[187]=Y,e[188]=ne,e[189]=me,e[190]=fe,e[191]=ue,e[192]=xe,e[193]=pe):pe=e[193];let We;return e[194]!==it||e[195]!==pe?(We=t.jsxs(bt,{children:[Ne,t.jsxs("div",{className:"space-y-6 p-4",children:[De,t.jsx("form",{onSubmit:it,children:pe})]})]}),e[194]=it,e[195]=pe,e[196]=We):We=e[196],We}function Ot(){return window.history.back()}function Vt(r){return t.jsx(c,{value:r.id.toString(),children:r.name},r.id)}function wt(r){return t.jsxs(c,{value:r.id.toString(),children:[r.name," - $",r.price_per_meter,"/meter"]},r.id)}function kt(r){return t.jsxs(c,{value:r.id.toString(),children:[r.measurement_type," - ",new Date(r.created_at).toLocaleDateString()]},r.id)}function Ft(r){return t.jsx(c,{value:r.id.toString(),children:r.name},r.id)}function At(r){return t.jsx(c,{value:r.id.toString(),children:r.name},r.id)}function Et(r){return t.jsx(c,{value:r.id.toString(),children:r.name},r.id)}function Lt(){mt.error("Failed to create order")}function Ht(){mt.success("Order created successfully")}export{Zt as default};
