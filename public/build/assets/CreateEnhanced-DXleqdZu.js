import{b as gs,r as h,j as t,c as is,u as Hs,d as Js,H as Ws,t as ys}from"./app-DBq1jQNZ.js";import{c as bs,u as Xs,R as Ys,I as Qs,C as Zs,b as hs,d as ps,e as xs,A as er}from"./app-layout-CNlFntjM.js";import{u as ns,c as Ss,B as A}from"./app-logo-icon-8uBk2MJf.js";import{I as G}from"./input-Cz0Yl_1W.js";import{L as f}from"./label-HnLZibk5.js";import{T as as}from"./textarea-CYRFyVZr.js";import{S as w,a as k,b as I,c as P,C as tr,d as S}from"./select-BLRfSWxR.js";import{c as it,a as nt,C as ot,b as ct}from"./card-BZT3r1Xm.js";import{C as sr}from"./checkbox-DO6RXVk2.js";import{u as rr,c as Cs,a as ls,b as ar,P as lr}from"./index-DK3sQo0b.js";import{P as Yt}from"./index-C0xZon0J.js";import{u as ir}from"./index-1D6xA_Pa.js";import{C as _s}from"./camera-B_Sn1ofC.js";import{T as js}from"./trash-2-D4ZFeqBQ.js";/* empty css            */import"./index-C4J_hXM0.js";import"./check-BAFbYTHf.js";const nr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],or=gs("Circle",nr);const cr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vs=gs("Image",cr);var os="Radio",[dr,Ns]=Cs(os),[mr,ur]=dr(os),Rs=h.forwardRef((l,e)=>{const{__scopeRadio:s,name:o,checked:i=!1,required:c,disabled:d,value:p="on",onCheck:y,form:j,...C}=l,[x,R]=h.useState(null),_=ns(e,b=>R(b)),v=h.useRef(!1),N=x?j||!!x.closest("form"):!0;return t.jsxs(mr,{scope:s,checked:i,disabled:d,children:[t.jsx(Yt.button,{type:"button",role:"radio","aria-checked":i,"data-state":Ps(i),"data-disabled":d?"":void 0,disabled:d,value:p,...C,ref:_,onClick:ls(l.onClick,b=>{i||y?.(),N&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),N&&t.jsx(Is,{control:x,bubbles:!v.current,name:o,value:p,checked:i,required:c,disabled:d,form:j,style:{transform:"translateX(-100%)"}})]})});Rs.displayName=os;var ws="RadioIndicator",ks=h.forwardRef((l,e)=>{const{__scopeRadio:s,forceMount:o,...i}=l,c=ur(ws,s);return t.jsx(lr,{present:o||c.checked,children:t.jsx(Yt.span,{"data-state":Ps(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:e})})});ks.displayName=ws;var fr="RadioBubbleInput",Is=h.forwardRef(({__scopeRadio:l,control:e,checked:s,bubbles:o=!0,...i},c)=>{const d=h.useRef(null),p=ns(d,c),y=ir(s),j=ar(e);return h.useEffect(()=>{const C=d.current;if(!C)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set;if(y!==s&&_){const v=new Event("click",{bubbles:o});_.call(C,s),C.dispatchEvent(v)}},[y,s,o]),t.jsx(Yt.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:p,style:{...i.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Is.displayName=fr;function Ps(l){return l?"checked":"unchecked"}var hr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qt="RadioGroup",[pr,Wr]=Cs(Qt,[bs,Ns]),Ds=bs(),Ms=Ns(),[xr,_r]=pr(Qt),Es=h.forwardRef((l,e)=>{const{__scopeRadioGroup:s,name:o,defaultValue:i,value:c,required:d=!1,disabled:p=!1,orientation:y,dir:j,loop:C=!0,onValueChange:x,...R}=l,_=Ds(s),v=Xs(j),[N,b]=rr({prop:c,defaultProp:i??null,onChange:x,caller:Qt});return t.jsx(xr,{scope:s,name:o,required:d,disabled:p,value:N,onValueChange:b,children:t.jsx(Ys,{asChild:!0,..._,orientation:y,dir:v,loop:C,children:t.jsx(Yt.div,{role:"radiogroup","aria-required":d,"aria-orientation":y,"data-disabled":p?"":void 0,dir:v,...R,ref:e})})})});Es.displayName=Qt;var As="RadioGroupItem",Gs=h.forwardRef((l,e)=>{const{__scopeRadioGroup:s,disabled:o,...i}=l,c=_r(As,s),d=c.disabled||o,p=Ds(s),y=Ms(s),j=h.useRef(null),C=ns(e,j),x=c.value===i.value,R=h.useRef(!1);return h.useEffect(()=>{const _=N=>{hr.includes(N.key)&&(R.current=!0)},v=()=>R.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",v)}},[]),t.jsx(Qs,{asChild:!0,...p,focusable:!d,active:x,children:t.jsx(Rs,{disabled:d,required:c.required,checked:x,...y,...i,name:c.name,ref:C,onCheck:()=>c.onValueChange(i.value),onKeyDown:ls(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:ls(i.onFocus,()=>{R.current&&j.current?.click()})})})});Gs.displayName=As;var jr="RadioGroupIndicator",Fs=h.forwardRef((l,e)=>{const{__scopeRadioGroup:s,...o}=l,i=Ms(s);return t.jsx(ks,{...i,...o,ref:e})});Fs.displayName=jr;var Os=Es,Ts=Gs,vr=Fs;const Ls=h.forwardRef((l,e)=>{const s=is.c(9);let o,i;s[0]!==l?({className:o,...i}=l,s[0]=l,s[1]=o,s[2]=i):(o=s[1],i=s[2]);let c;s[3]!==o?(c=Ss("grid gap-2",o),s[3]=o,s[4]=c):c=s[4];let d;return s[5]!==i||s[6]!==e||s[7]!==c?(d=t.jsx(Os,{className:c,...i,ref:e}),s[5]=i,s[6]=e,s[7]=c,s[8]=d):d=s[8],d});Ls.displayName=Os.displayName;const Xt=h.forwardRef((l,e)=>{const s=is.c(10);let o,i;s[0]!==l?({className:o,...i}=l,s[0]=l,s[1]=o,s[2]=i):(o=s[1],i=s[2]);let c;s[3]!==o?(c=Ss("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),s[3]=o,s[4]=c):c=s[4];let d;s[5]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(vr,{className:"flex items-center justify-center",children:t.jsx(or,{className:"h-2.5 w-2.5 fill-current text-current"})}),s[5]=d):d=s[5];let p;return s[6]!==i||s[7]!==e||s[8]!==c?(p=t.jsx(Ts,{ref:e,className:c,...i,children:d}),s[6]=i,s[7]=e,s[8]=c,s[9]=p):p=s[9],p});Xt.displayName=Ts.displayName;function Xr(l){const e=is.c(274),{customers:s,garmentTypes:o,tailors:i,fabrics:c,statuses:d,categories:p}=l;let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[0]=y):y=e[0];const[j,C]=h.useState(y),[x,R]=h.useState("skip"),[_,v]=h.useState(!1);let N;e[1]===Symbol.for("react.memo_cache_sentinel")?(N={},e[1]=N):N=e[1];const[b,Us]=h.useState(N),[F,Vs]=h.useState(""),[tt,cs]=h.useState(null),[st,ds]=h.useState(null),ms=h.useRef(null),us=h.useRef(null);let dt;e[2]===Symbol.for("react.memo_cache_sentinel")?(dt={},e[2]=dt):dt=e[2];let O;e[3]!==d[0]?.id?(O=d[0]?.id.toString()||"",e[3]=d[0]?.id,e[4]=O):O=e[4];let mt;e[5]===Symbol.for("react.memo_cache_sentinel")?(mt=new Date().toISOString().split("T"),e[5]=mt):mt=e[5];let ut;e[6]!==O?(ut={customer_id:"",garment_type_id:"",tailor_id:"",measurement_id:"",measurement_option:"skip",new_measurement_type:"",new_measurements:dt,measurement_notes:"",fabric_id:"",customer_fabric:!1,customer_fabric_photo:null,design_image:null,payment_method:"cash",stitching_status_id:O,order_date:mt[0],delivery_date:"",priority:"normal",total_amount:"",advance_paid:"",discount:"0",special_instructions:"",notes:""},e[6]=O,e[7]=ut):ut=e[7];const{data:a,setData:r,post:rt,processing:ft,errors:m}=Hs(ut);let ht;e[8]!==r?(ht=async n=>{if(r("customer_id",n),n)try{const g=await Js.get(`/api/measurements?customer_id=${n}`);C(g.data)}catch(g){console.error("Failed to fetch measurements:",g)}else C([])},e[8]=r,e[9]=ht):ht=e[9];const at=ht;let pt;e[10]!==r?(pt=n=>{R(n),r("measurement_option",n),v(n==="new")},e[10]=r,e[11]=pt):pt=e[11];const Zt=pt;let T,L,D,U,V,M,E,B;if(e[12]!==p||e[13]!==s||e[14]!==a||e[15]!==m.customer_id||e[16]!==m.garment_type_id||e[17]!==m.tailor_id||e[18]!==j||e[19]!==o||e[20]!==at||e[21]!==Zt||e[22]!==x||e[23]!==b||e[24]!==rt||e[25]!==F||e[26]!==r||e[27]!==_||e[28]!==d||e[29]!==i){let n;e[38]!==F?(n=u=>u.slug===F,e[38]=F,e[39]=n):n=e[39];const g=p.find(n);let lt;e[40]!==a||e[41]!==x||e[42]!==b||e[43]!==rt?(lt=u=>{u.preventDefault();const rs={...a,new_measurements:x==="new"?b:{}};rt("/orders",{data:rs,onSuccess:Dr,onError:Pr})},e[40]=a,e[41]=x,e[42]=b,e[43]=rt,e[44]=lt):lt=e[44];const Bs=lt;T=er,e[45]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(Ws,{title:"Create Order"}),e[45]=E):E=e[45],V="space-y-6 p-4 max-w-6xl mx-auto",e[46]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-3xl font-bold",children:"Create Order"})}),e[46]=M):M=e[46],B=Bs,L="space-y-6";let Ut;e[47]===Symbol.for("react.memo_cache_sentinel")?(Ut=t.jsx(nt,{children:t.jsx(ot,{children:"Order Details"})}),e[47]=Ut):Ut=e[47];let Vt;e[48]===Symbol.for("react.memo_cache_sentinel")?(Vt=t.jsx(f,{children:"Customer *"}),e[48]=Vt):Vt=e[48];const qs=a.customer_id;let Bt;e[49]===Symbol.for("react.memo_cache_sentinel")?(Bt=t.jsx(k,{children:t.jsx(I,{placeholder:"Select customer"})}),e[49]=Bt):Bt=e[49];let qt;e[50]===Symbol.for("react.memo_cache_sentinel")?(qt=t.jsx("div",{className:"px-2 pb-2 sticky top-0 bg-popover z-10",children:t.jsx(G,{placeholder:"Search customer...",className:"h-8",onChange:Ir,onKeyDown:kr})}),e[50]=qt):qt=e[50];let Ae;e[51]!==s?(Ae=s.map(wr),e[51]=s,e[52]=Ae):Ae=e[52];let Ge;e[53]!==Ae?(Ge=t.jsxs(P,{children:[qt,Ae]}),e[53]=Ae,e[54]=Ge):Ge=e[54];let Fe;e[55]!==a.customer_id||e[56]!==at||e[57]!==Ge?(Fe=t.jsxs(w,{value:qs,onValueChange:at,children:[Bt,Ge]}),e[55]=a.customer_id,e[56]=at,e[57]=Ge,e[58]=Fe):Fe=e[58];let Oe;e[59]!==m.customer_id?(Oe=m.customer_id&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.customer_id}),e[59]=m.customer_id,e[60]=Oe):Oe=e[60];let Te;e[61]!==Fe||e[62]!==Oe?(Te=t.jsxs("div",{children:[Vt,Fe,Oe]}),e[61]=Fe,e[62]=Oe,e[63]=Te):Te=e[63];let zt;e[64]===Symbol.for("react.memo_cache_sentinel")?(zt=t.jsx(f,{children:"Garment Type *"}),e[64]=zt):zt=e[64];const zs=a.garment_type_id;let Le;e[65]!==r?(Le=u=>r("garment_type_id",u),e[65]=r,e[66]=Le):Le=e[66];let $t;e[67]===Symbol.for("react.memo_cache_sentinel")?($t=t.jsx(k,{children:t.jsx(I,{placeholder:"Select garment type"})}),e[67]=$t):$t=e[67];let Ue;e[68]!==o?(Ue=o.map(Rr),e[68]=o,e[69]=Ue):Ue=e[69];let Ve;e[70]!==Ue?(Ve=t.jsx(P,{children:Ue}),e[70]=Ue,e[71]=Ve):Ve=e[71];let Be;e[72]!==a.garment_type_id||e[73]!==Le||e[74]!==Ve?(Be=t.jsxs(w,{value:zs,onValueChange:Le,children:[$t,Ve]}),e[72]=a.garment_type_id,e[73]=Le,e[74]=Ve,e[75]=Be):Be=e[75];let qe;e[76]!==m.garment_type_id?(qe=m.garment_type_id&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.garment_type_id}),e[76]=m.garment_type_id,e[77]=qe):qe=e[77];let ze;e[78]!==Be||e[79]!==qe?(ze=t.jsxs("div",{children:[zt,Be,qe]}),e[78]=Be,e[79]=qe,e[80]=ze):ze=e[80];let Kt;e[81]===Symbol.for("react.memo_cache_sentinel")?(Kt=t.jsx(f,{children:"Tailor *"}),e[81]=Kt):Kt=e[81];const $s=a.tailor_id;let $e;e[82]!==r?($e=u=>r("tailor_id",u),e[82]=r,e[83]=$e):$e=e[83];let Ht;e[84]===Symbol.for("react.memo_cache_sentinel")?(Ht=t.jsx(k,{children:t.jsx(I,{placeholder:"Select tailor"})}),e[84]=Ht):Ht=e[84];let Ke;e[85]!==i?(Ke=i.map(Nr),e[85]=i,e[86]=Ke):Ke=e[86];let He;e[87]!==Ke?(He=t.jsx(P,{children:Ke}),e[87]=Ke,e[88]=He):He=e[88];let Je;e[89]!==a.tailor_id||e[90]!==$e||e[91]!==He?(Je=t.jsxs(w,{value:$s,onValueChange:$e,children:[Ht,He]}),e[89]=a.tailor_id,e[90]=$e,e[91]=He,e[92]=Je):Je=e[92];let We;e[93]!==m.tailor_id?(We=m.tailor_id&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.tailor_id}),e[93]=m.tailor_id,e[94]=We):We=e[94];let Xe;e[95]!==Je||e[96]!==We?(Xe=t.jsxs("div",{children:[Kt,Je,We]}),e[95]=Je,e[96]=We,e[97]=Xe):Xe=e[97];let Jt;e[98]===Symbol.for("react.memo_cache_sentinel")?(Jt=t.jsx(f,{children:"Status *"}),e[98]=Jt):Jt=e[98];const Ks=a.stitching_status_id;let Ye;e[99]!==r?(Ye=u=>r("stitching_status_id",u),e[99]=r,e[100]=Ye):Ye=e[100];let Wt;e[101]===Symbol.for("react.memo_cache_sentinel")?(Wt=t.jsx(k,{children:t.jsx(I,{})}),e[101]=Wt):Wt=e[101];let Qe;e[102]!==d?(Qe=d.map(Cr),e[102]=d,e[103]=Qe):Qe=e[103];let Ze;e[104]!==Qe?(Ze=t.jsx(P,{children:Qe}),e[104]=Qe,e[105]=Ze):Ze=e[105];let et;e[106]!==a.stitching_status_id||e[107]!==Ye||e[108]!==Ze?(et=t.jsxs("div",{children:[Jt,t.jsxs(w,{value:Ks,onValueChange:Ye,children:[Wt,Ze]})]}),e[106]=a.stitching_status_id,e[107]=Ye,e[108]=Ze,e[109]=et):et=e[109],e[110]!==Te||e[111]!==ze||e[112]!==Xe||e[113]!==et?(D=t.jsxs(it,{children:[Ut,t.jsx(ct,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Te,ze,Xe,et]})})]}),e[110]=Te,e[111]=ze,e[112]=Xe,e[113]=et,e[114]=D):D=e[114],U=a.customer_id&&t.jsxs(it,{children:[t.jsx(nt,{children:t.jsx(ot,{children:"Measurements"})}),t.jsxs(ct,{className:"space-y-4",children:[t.jsxs(Ls,{value:x,onValueChange:Zt,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xt,{value:"skip",id:"skip"}),t.jsx(f,{htmlFor:"skip",className:"cursor-pointer",children:"Skip measurements"})]}),j.length>0&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xt,{value:"existing",id:"existing"}),t.jsx(f,{htmlFor:"existing",className:"cursor-pointer",children:"Use existing measurement"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xt,{value:"new",id:"new"}),t.jsx(f,{htmlFor:"new",className:"cursor-pointer",children:"Create new measurement"})]})]}),x==="existing"&&j.length>0&&t.jsxs("div",{children:[t.jsx(f,{children:"Select Measurement"}),t.jsxs(w,{value:a.measurement_id,onValueChange:u=>r("measurement_id",u),children:[t.jsx(k,{children:t.jsx(I,{placeholder:"Select measurement"})}),t.jsx(P,{children:j.map(Sr)})]})]}),x==="new"&&t.jsxs("div",{className:"space-y-4 border-t pt-4",children:[t.jsxs("div",{children:[t.jsx(f,{children:"Measurement Type *"}),t.jsxs(w,{value:F,onValueChange:u=>{Vs(u),r("new_measurement_type",u)},children:[t.jsx(k,{children:t.jsx(I,{placeholder:"Select measurement type"})}),t.jsx(P,{children:p.map(br)})]})]}),g&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(f,{className:"text-base font-semibold",children:[g.name," Measurements"]}),t.jsx(A,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(!_),children:_?t.jsx(tr,{className:"h-4 w-4"}):t.jsx(Zs,{className:"h-4 w-4"})})]}),_&&t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:g.fields.map(u=>t.jsxs("div",{children:[t.jsxs(f,{htmlFor:u.slug,className:"text-sm",children:[u.name," (",u.unit,")",u.is_required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsx(G,{id:u.slug,type:"number",step:"0.1",placeholder:"0.0",value:b[u.slug]||"",onChange:rs=>{const fs={...b,[u.slug]:rs.target.value};Us(fs),r("new_measurements",fs)},required:u.is_required})]},u.id))}),t.jsxs("div",{children:[t.jsx(f,{children:"Measurement Notes"}),t.jsx(as,{value:a.measurement_notes,onChange:u=>r("measurement_notes",u.target.value),rows:2,placeholder:"Any special notes about measurements..."})]})]})]})]})]}),e[12]=p,e[13]=s,e[14]=a,e[15]=m.customer_id,e[16]=m.garment_type_id,e[17]=m.tailor_id,e[18]=j,e[19]=o,e[20]=at,e[21]=Zt,e[22]=x,e[23]=b,e[24]=rt,e[25]=F,e[26]=r,e[27]=_,e[28]=d,e[29]=i,e[30]=T,e[31]=L,e[32]=D,e[33]=U,e[34]=V,e[35]=M,e[36]=E,e[37]=B}else T=e[30],L=e[31],D=e[32],U=e[33],V=e[34],M=e[35],E=e[36],B=e[37];let xt;e[115]===Symbol.for("react.memo_cache_sentinel")?(xt=t.jsx(nt,{children:t.jsx(ot,{children:"Fabric & Design"})}),e[115]=xt):xt=e[115];let q;e[116]!==r?(q=n=>r("customer_fabric",n),e[116]=r,e[117]=q):q=e[117];let z;e[118]!==a.customer_fabric||e[119]!==q?(z=t.jsx(sr,{id:"customer_fabric",checked:a.customer_fabric,onCheckedChange:q}),e[118]=a.customer_fabric,e[119]=q,e[120]=z):z=e[120];let _t;e[121]===Symbol.for("react.memo_cache_sentinel")?(_t=t.jsx("label",{htmlFor:"customer_fabric",className:"text-sm cursor-pointer",children:"Customer provided fabric"}),e[121]=_t):_t=e[121];let $;e[122]!==z?($=t.jsxs("div",{className:"flex items-center space-x-2",children:[z,_t]}),e[122]=z,e[123]=$):$=e[123];let K;e[124]!==a.customer_fabric||e[125]!==a.fabric_id||e[126]!==c||e[127]!==r?(K=!a.customer_fabric&&t.jsxs("div",{children:[t.jsx(f,{children:"Fabric"}),t.jsxs(w,{value:a.fabric_id,onValueChange:n=>r("fabric_id",n),children:[t.jsx(k,{children:t.jsx(I,{placeholder:"Select fabric"})}),t.jsx(P,{children:c.map(yr)})]})]}),e[124]=a.customer_fabric,e[125]=a.fabric_id,e[126]=c,e[127]=r,e[128]=K):K=e[128];let H;e[129]!==a.customer_fabric||e[130]!==st||e[131]!==r?(H=a.customer_fabric&&t.jsxs("div",{children:[t.jsx(f,{children:"Fabric Photo"}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs(hs,{className:"h-24 w-24 rounded-md",children:[t.jsx(ps,{src:st||void 0,alt:"Fabric",className:"object-cover"}),t.jsx(xs,{className:"rounded-md bg-muted",children:t.jsx(vs,{className:"h-8 w-8 text-muted-foreground"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>us.current?.click(),children:[t.jsx(_s,{className:"h-4 w-4 mr-2"}),st?"Change":"Upload"]}),st&&t.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>{ds(null),r("customer_fabric_photo",null)},children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]}),t.jsx("input",{ref:us,type:"file",accept:"image/*",onChange:n=>{const g=n.target.files?.[0];g&&(r("customer_fabric_photo",g),ds(URL.createObjectURL(g)))},className:"hidden"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Upload customer fabric photo (JPG, PNG or GIF. Max 2MB)"})]}),e[129]=a.customer_fabric,e[130]=st,e[131]=r,e[132]=H):H=e[132];let jt;e[133]===Symbol.for("react.memo_cache_sentinel")?(jt=t.jsx(f,{children:"Design Image"}),e[133]=jt):jt=e[133];const es=tt||void 0;let J;e[134]!==es?(J=t.jsx(ps,{src:es,alt:"Design",className:"object-cover"}),e[134]=es,e[135]=J):J=e[135];let vt;e[136]===Symbol.for("react.memo_cache_sentinel")?(vt=t.jsx(xs,{className:"rounded-md bg-muted",children:t.jsx(vs,{className:"h-8 w-8 text-muted-foreground"})}),e[136]=vt):vt=e[136];let W;e[137]!==J?(W=t.jsxs(hs,{className:"h-24 w-24 rounded-md",children:[J,vt]}),e[137]=J,e[138]=W):W=e[138];let gt,yt;e[139]===Symbol.for("react.memo_cache_sentinel")?(gt=()=>ms.current?.click(),yt=t.jsx(_s,{className:"h-4 w-4 mr-2"}),e[139]=gt,e[140]=yt):(gt=e[139],yt=e[140]);const ts=tt?"Change":"Upload";let X;e[141]!==ts?(X=t.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:gt,children:[yt,ts]}),e[141]=ts,e[142]=X):X=e[142];let Y;e[143]!==tt||e[144]!==r?(Y=tt&&t.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:()=>{cs(null),r("design_image",null)},children:[t.jsx(js,{className:"h-4 w-4 mr-2"}),"Remove"]}),e[143]=tt,e[144]=r,e[145]=Y):Y=e[145];let Q;e[146]!==X||e[147]!==Y?(Q=t.jsxs("div",{className:"flex gap-2",children:[X,Y]}),e[146]=X,e[147]=Y,e[148]=Q):Q=e[148];let Z;e[149]!==W||e[150]!==Q?(Z=t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[W,Q]}),e[149]=W,e[150]=Q,e[151]=Z):Z=e[151];let ee;e[152]!==r?(ee=t.jsx("input",{ref:ms,type:"file",accept:"image/*",onChange:n=>{const g=n.target.files?.[0];g&&(r("design_image",g),cs(URL.createObjectURL(g)))},className:"hidden"}),e[152]=r,e[153]=ee):ee=e[153];let bt;e[154]===Symbol.for("react.memo_cache_sentinel")?(bt=t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Upload design reference image (JPG, PNG or GIF. Max 2MB)"}),e[154]=bt):bt=e[154];let te;e[155]!==Z||e[156]!==ee?(te=t.jsxs("div",{children:[jt,Z,ee,bt]}),e[155]=Z,e[156]=ee,e[157]=te):te=e[157];let se;e[158]!==$||e[159]!==K||e[160]!==H||e[161]!==te?(se=t.jsxs(it,{children:[xt,t.jsxs(ct,{className:"space-y-4",children:[$,K,H,te]})]}),e[158]=$,e[159]=K,e[160]=H,e[161]=te,e[162]=se):se=e[162];let St;e[163]===Symbol.for("react.memo_cache_sentinel")?(St=t.jsx(nt,{children:t.jsx(ot,{children:"Pricing & Payment"})}),e[163]=St):St=e[163];let Ct;e[164]===Symbol.for("react.memo_cache_sentinel")?(Ct=t.jsx(f,{children:"Total Amount *"}),e[164]=Ct):Ct=e[164];let re;e[165]!==r?(re=n=>r("total_amount",n.target.value),e[165]=r,e[166]=re):re=e[166];let ae;e[167]!==a.total_amount||e[168]!==re?(ae=t.jsx(G,{type:"number",step:"0.01",value:a.total_amount,onChange:re,placeholder:"0.00"}),e[167]=a.total_amount,e[168]=re,e[169]=ae):ae=e[169];let le;e[170]!==m.total_amount?(le=m.total_amount&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.total_amount}),e[170]=m.total_amount,e[171]=le):le=e[171];let ie;e[172]!==ae||e[173]!==le?(ie=t.jsxs("div",{children:[Ct,ae,le]}),e[172]=ae,e[173]=le,e[174]=ie):ie=e[174];let Nt;e[175]===Symbol.for("react.memo_cache_sentinel")?(Nt=t.jsx(f,{children:"Discount"}),e[175]=Nt):Nt=e[175];let ne;e[176]!==r?(ne=n=>r("discount",n.target.value),e[176]=r,e[177]=ne):ne=e[177];let oe;e[178]!==a.discount||e[179]!==ne?(oe=t.jsxs("div",{children:[Nt,t.jsx(G,{type:"number",step:"0.01",value:a.discount,onChange:ne,placeholder:"0.00"})]}),e[178]=a.discount,e[179]=ne,e[180]=oe):oe=e[180];let Rt;e[181]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(f,{children:"Advance Paid"}),e[181]=Rt):Rt=e[181];let ce;e[182]!==r?(ce=n=>r("advance_paid",n.target.value),e[182]=r,e[183]=ce):ce=e[183];let de;e[184]!==a.advance_paid||e[185]!==ce?(de=t.jsxs("div",{children:[Rt,t.jsx(G,{type:"number",step:"0.01",value:a.advance_paid,onChange:ce,placeholder:"0.00"})]}),e[184]=a.advance_paid,e[185]=ce,e[186]=de):de=e[186];let me;e[187]!==ie||e[188]!==oe||e[189]!==de?(me=t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[ie,oe,de]}),e[187]=ie,e[188]=oe,e[189]=de,e[190]=me):me=e[190];let wt;e[191]===Symbol.for("react.memo_cache_sentinel")?(wt=t.jsx(f,{children:"Payment Method"}),e[191]=wt):wt=e[191];let ue;e[192]!==r?(ue=n=>r("payment_method",n),e[192]=r,e[193]=ue):ue=e[193];let kt;e[194]===Symbol.for("react.memo_cache_sentinel")?(kt=t.jsx(k,{children:t.jsx(I,{})}),e[194]=kt):kt=e[194];let It;e[195]===Symbol.for("react.memo_cache_sentinel")?(It=t.jsxs(P,{children:[t.jsx(S,{value:"cash",children:"Cash"}),t.jsx(S,{value:"card",children:"Card"}),t.jsx(S,{value:"upi",children:"UPI"}),t.jsx(S,{value:"bank_transfer",children:"Bank Transfer"}),t.jsx(S,{value:"other",children:"Other"})]}),e[195]=It):It=e[195];let fe;e[196]!==a.payment_method||e[197]!==ue?(fe=t.jsxs("div",{children:[wt,t.jsxs(w,{value:a.payment_method,onValueChange:ue,children:[kt,It]})]}),e[196]=a.payment_method,e[197]=ue,e[198]=fe):fe=e[198];let he;e[199]!==me||e[200]!==fe?(he=t.jsxs(it,{children:[St,t.jsxs(ct,{className:"space-y-4",children:[me,fe]})]}),e[199]=me,e[200]=fe,e[201]=he):he=e[201];let Pt;e[202]===Symbol.for("react.memo_cache_sentinel")?(Pt=t.jsx(nt,{children:t.jsx(ot,{children:"Dates & Additional Information"})}),e[202]=Pt):Pt=e[202];let Dt;e[203]===Symbol.for("react.memo_cache_sentinel")?(Dt=t.jsx(f,{children:"Order Date *"}),e[203]=Dt):Dt=e[203];let pe;e[204]!==r?(pe=n=>r("order_date",n.target.value),e[204]=r,e[205]=pe):pe=e[205];let xe;e[206]!==a.order_date||e[207]!==pe?(xe=t.jsx(G,{type:"date",value:a.order_date,onChange:pe}),e[206]=a.order_date,e[207]=pe,e[208]=xe):xe=e[208];let _e;e[209]!==m.order_date?(_e=m.order_date&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.order_date}),e[209]=m.order_date,e[210]=_e):_e=e[210];let je;e[211]!==xe||e[212]!==_e?(je=t.jsxs("div",{children:[Dt,xe,_e]}),e[211]=xe,e[212]=_e,e[213]=je):je=e[213];let Mt;e[214]===Symbol.for("react.memo_cache_sentinel")?(Mt=t.jsx(f,{children:"Delivery Date *"}),e[214]=Mt):Mt=e[214];let ve;e[215]!==r?(ve=n=>r("delivery_date",n.target.value),e[215]=r,e[216]=ve):ve=e[216];let ge;e[217]!==a.delivery_date||e[218]!==ve?(ge=t.jsx(G,{type:"date",value:a.delivery_date,onChange:ve}),e[217]=a.delivery_date,e[218]=ve,e[219]=ge):ge=e[219];let ye;e[220]!==m.delivery_date?(ye=m.delivery_date&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.delivery_date}),e[220]=m.delivery_date,e[221]=ye):ye=e[221];let be;e[222]!==ge||e[223]!==ye?(be=t.jsxs("div",{children:[Mt,ge,ye]}),e[222]=ge,e[223]=ye,e[224]=be):be=e[224];let Et;e[225]===Symbol.for("react.memo_cache_sentinel")?(Et=t.jsx(f,{children:"Priority *"}),e[225]=Et):Et=e[225];let Se;e[226]!==r?(Se=n=>r("priority",n),e[226]=r,e[227]=Se):Se=e[227];let At;e[228]===Symbol.for("react.memo_cache_sentinel")?(At=t.jsx(k,{children:t.jsx(I,{})}),e[228]=At):At=e[228];let Gt;e[229]===Symbol.for("react.memo_cache_sentinel")?(Gt=t.jsxs(P,{children:[t.jsx(S,{value:"normal",children:"Normal"}),t.jsx(S,{value:"urgent",children:"Urgent"})]}),e[229]=Gt):Gt=e[229];let Ce;e[230]!==a.priority||e[231]!==Se?(Ce=t.jsxs("div",{children:[Et,t.jsxs(w,{value:a.priority,onValueChange:Se,children:[At,Gt]})]}),e[230]=a.priority,e[231]=Se,e[232]=Ce):Ce=e[232];let Ne;e[233]!==je||e[234]!==be||e[235]!==Ce?(Ne=t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[je,be,Ce]}),e[233]=je,e[234]=be,e[235]=Ce,e[236]=Ne):Ne=e[236];let Ft;e[237]===Symbol.for("react.memo_cache_sentinel")?(Ft=t.jsx(f,{children:"Special Instructions"}),e[237]=Ft):Ft=e[237];let Re;e[238]!==r?(Re=n=>r("special_instructions",n.target.value),e[238]=r,e[239]=Re):Re=e[239];let we;e[240]!==a.special_instructions||e[241]!==Re?(we=t.jsxs("div",{children:[Ft,t.jsx(as,{value:a.special_instructions,onChange:Re,rows:3,placeholder:"Any special instructions for this order..."})]}),e[240]=a.special_instructions,e[241]=Re,e[242]=we):we=e[242];let Ot;e[243]===Symbol.for("react.memo_cache_sentinel")?(Ot=t.jsx(f,{children:"Notes"}),e[243]=Ot):Ot=e[243];let ke;e[244]!==r?(ke=n=>r("notes",n.target.value),e[244]=r,e[245]=ke):ke=e[245];let Ie;e[246]!==a.notes||e[247]!==ke?(Ie=t.jsxs("div",{children:[Ot,t.jsx(as,{value:a.notes,onChange:ke,rows:2,placeholder:"Internal notes..."})]}),e[246]=a.notes,e[247]=ke,e[248]=Ie):Ie=e[248];let Pe;e[249]!==Ne||e[250]!==we||e[251]!==Ie?(Pe=t.jsxs(it,{children:[Pt,t.jsxs(ct,{className:"space-y-4",children:[Ne,we,Ie]})]}),e[249]=Ne,e[250]=we,e[251]=Ie,e[252]=Pe):Pe=e[252];let Tt;e[253]===Symbol.for("react.memo_cache_sentinel")?(Tt=t.jsx(A,{type:"button",variant:"outline",onClick:gr,children:"Cancel"}),e[253]=Tt):Tt=e[253];const ss=ft?"Creating...":"Create Order";let De;e[254]!==ft||e[255]!==ss?(De=t.jsxs("div",{className:"flex justify-end gap-2",children:[Tt,t.jsx(A,{type:"submit",disabled:ft,children:ss})]}),e[254]=ft,e[255]=ss,e[256]=De):De=e[256];let Me;e[257]!==L||e[258]!==D||e[259]!==U||e[260]!==se||e[261]!==he||e[262]!==Pe||e[263]!==De||e[264]!==B?(Me=t.jsxs("form",{onSubmit:B,className:L,children:[D,U,se,he,Pe,De]}),e[257]=L,e[258]=D,e[259]=U,e[260]=se,e[261]=he,e[262]=Pe,e[263]=De,e[264]=B,e[265]=Me):Me=e[265];let Ee;e[266]!==V||e[267]!==M||e[268]!==Me?(Ee=t.jsxs("div",{className:V,children:[M,Me]}),e[266]=V,e[267]=M,e[268]=Me,e[269]=Ee):Ee=e[269];let Lt;return e[270]!==T||e[271]!==E||e[272]!==Ee?(Lt=t.jsxs(T,{children:[E,Ee]}),e[270]=T,e[271]=E,e[272]=Ee,e[273]=Lt):Lt=e[273],Lt}function gr(){return window.history.back()}function yr(l){return t.jsxs(S,{value:l.id.toString(),children:[l.name," - $",l.price_per_meter,"/meter"]},l.id)}function br(l){return t.jsx(S,{value:l.slug,children:l.name},l.id)}function Sr(l){return t.jsxs(S,{value:l.id.toString(),children:[l.measurement_type," - ",new Date(l.created_at).toLocaleDateString()]},l.id)}function Cr(l){return t.jsx(S,{value:l.id.toString(),children:l.name},l.id)}function Nr(l){return t.jsx(S,{value:l.id.toString(),children:l.name},l.id)}function Rr(l){return t.jsx(S,{value:l.id.toString(),children:l.name},l.id)}function wr(l){return t.jsx(S,{value:l.id.toString(),"data-customer-item":!0,children:l.name},l.id)}function kr(l){return l.stopPropagation()}function Ir(l){const e=l.target.value.toLowerCase();document.querySelectorAll("[data-customer-item]").forEach(o=>{const i=o.textContent?.toLowerCase()||"";o.style.display=i.includes(e)?"":"none"})}function Pr(){ys.error("Failed to create order")}function Dr(){ys.success("Order created successfully")}export{Xr as default};
