import{d as W,r as d,j as e,t as m,c as K,H as Y}from"./app-X0TVhyfm.js";import{X as U,B as D,A as G}from"./app-layout-DMq1wZB-.js";import{a as J,T as L,b as R,c as Q}from"./tabs-DGL3UsAI.js";import{B as N}from"./app-logo-icon-B4euW0No.js";import{I as _}from"./input-CPQpSD6x.js";import{L as S}from"./label-DJSTogUP.js";import{T as Z}from"./textarea-B2322kcJ.js";import{c as v,a as y,b as w,C as F}from"./card-C4vkm0ei.js";import{S as t}from"./skeleton-DnAIoTTS.js";import{C as V}from"./check-DEEznhPM.js";import{P as $}from"./plus-Dg5mESGP.js";import{S as z}from"./square-pen-C756HEvS.js";import{T as B}from"./trash-2-KcbQTX7t.js";import{S as T,a as M,b as k,c as I,d as p}from"./select-DJ9bU1ut.js";/* empty css            */import"./index-D-Yi-hZu.js";import"./index-C2oqPPid.js";import"./index-Cm2o4msX.js";import"./index-DnvY54ZE.js";const f=W.create({baseURL:"/api",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});f.interceptors.request.use(a=>{const i=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");return i&&(a.headers["X-CSRF-TOKEN"]=i),a});const H=()=>f.get("/measurement-categories"),ee=a=>f.post("/measurement-categories",a),se=(a,i)=>f.put(`/measurement-categories/${a}`,i),ae=a=>f.delete(`/measurement-categories/${a}`),re=a=>f.get("/measurement-fields",{params:a}),te=a=>f.post("/measurement-fields",a),le=(a,i)=>f.put(`/measurement-fields/${a}`,i),ie=a=>f.delete(`/measurement-fields/${a}`);function ce(){const[a,i]=d.useState([]),[x,u]=d.useState(!0),[n,o]=d.useState(null),[c,h]=d.useState({name:"",description:"",is_active:!0,sort_order:0}),j=async()=>{try{u(!0);const r=await H();i(r.data)}catch(r){console.error("Failed to fetch categories:",r)}finally{u(!1)}};d.useEffect(()=>{j()},[]);const q=async r=>{r.preventDefault();try{n?(await se(n,c),m.success("Category updated successfully")):(await ee(c),m.success("Category created successfully")),h({name:"",description:"",is_active:!0,sort_order:0}),o(null),j()}catch(b){console.error("Error saving category:",b);const A=b.response?.data?.message||"Failed to save category";m.error(A)}},l=r=>{o(r.id),h({name:r.name,description:r.description||"",is_active:r.is_active,sort_order:r.sort_order||0})},g=async r=>{if(confirm("Are you sure you want to delete this category?"))try{await ae(r),m.success("Category deleted successfully"),j()}catch{m.error("Failed to delete category")}},E=()=>{o(null),h({name:"",description:"",is_active:!0,sort_order:0})};return x?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(v,{className:"lg:col-span-1",children:[e.jsx(y,{children:e.jsx(t,{className:"h-6 w-32"})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-16 mb-2"}),e.jsx(t,{className:"h-10 w-full"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-20 mb-2"}),e.jsx(t,{className:"h-20 w-full"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-20 mb-2"}),e.jsx(t,{className:"h-10 w-full"})]}),e.jsx(t,{className:"h-10 w-full"})]})]}),e.jsxs(v,{className:"lg:col-span-2",children:[e.jsx(y,{children:e.jsx(t,{className:"h-6 w-40"})}),e.jsx(w,{className:"space-y-3",children:[...Array(3)].map((r,b)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(t,{className:"h-5 w-24"}),e.jsx(t,{className:"h-5 w-16"})]}),e.jsx(t,{className:"h-4 w-full mb-1"}),e.jsx(t,{className:"h-3 w-32"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{className:"h-8 w-8"}),e.jsx(t,{className:"h-8 w-8"})]})]})},b))})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(v,{className:"lg:col-span-1",children:[e.jsx(y,{children:e.jsx(F,{children:n?"Edit Category":"Add Category"})}),e.jsx(w,{children:e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(S,{htmlFor:"name",children:"Name *"}),e.jsx(_,{id:"name",value:c.name,onChange:r=>h({...c,name:r.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"description",children:"Description"}),e.jsx(Z,{id:"description",value:c.description,onChange:r=>h({...c,description:r.target.value})})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(_,{id:"sort_order",type:"number",value:c.sort_order,onChange:r=>h({...c,sort_order:parseInt(r.target.value)})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{type:"submit",className:"flex-1",children:[n?e.jsx(V,{className:"h-4 w-4 mr-2"}):e.jsx($,{className:"h-4 w-4 mr-2"}),n?"Update":"Add"]}),n&&e.jsx(N,{type:"button",variant:"outline",onClick:E,children:e.jsx(U,{className:"h-4 w-4"})})]})]})})]}),e.jsxs(v,{className:"lg:col-span-2",children:[e.jsx(y,{children:e.jsxs(F,{children:["Categories (",a.length,")"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:a.map(r=>e.jsxs("div",{className:"border rounded-lg p-4 flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:r.name}),e.jsxs(D,{variant:"secondary",children:[r.fields?.length||0," fields"]})]}),r.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Slug: ",r.slug]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{size:"sm",variant:"outline",onClick:()=>l(r),children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx(N,{size:"sm",variant:"outline",onClick:()=>g(r.id),children:e.jsx(B,{className:"h-4 w-4"})})]})]},r.id))})})]})]})}function ne(){const[a,i]=d.useState([]),[x,u]=d.useState([]),[n,o]=d.useState(!0),[c,h]=d.useState(null),[j,q]=d.useState("all"),[l,g]=d.useState({category_id:"",name:"",unit:"inches",is_required:!1,sort_order:0}),E=async()=>{try{const s=await H();i(s.data)}catch(s){console.error("Failed to fetch categories:",s)}},r=async()=>{try{o(!0);const C=await re(j&&j!=="all"?{category_id:j}:{});u(C.data)}catch(s){console.error("Failed to fetch fields:",s)}finally{o(!1)}};d.useEffect(()=>{E()},[]),d.useEffect(()=>{r()},[j]);const b=async s=>{if(s.preventDefault(),!l.category_id){m.error("Please select a category");return}try{c?(await le(c,l),m.success("Field updated successfully")):(await te(l),m.success("Field created successfully")),g({category_id:"",name:"",unit:"inches",is_required:!1,sort_order:0}),h(null),r()}catch(C){console.error("Error saving field:",C);const O=C.response?.data?.message||"Failed to save field";m.error(O)}},A=s=>{h(s.id),g({category_id:s.category_id.toString(),name:s.name,unit:s.unit,is_required:s.is_required,sort_order:s.sort_order||0})},P=async s=>{if(confirm("Are you sure you want to delete this field?"))try{await ie(s),m.success("Field deleted successfully"),r()}catch{m.error("Failed to delete field")}},X=()=>{h(null),g({category_id:"",name:"",unit:"inches",is_required:!1,sort_order:0})};return n?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(v,{className:"lg:col-span-1",children:[e.jsx(y,{children:e.jsx(t,{className:"h-6 w-24"})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-20 mb-2"}),e.jsx(t,{className:"h-10 w-full"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-24 mb-2"}),e.jsx(t,{className:"h-10 w-full"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-12 mb-2"}),e.jsx(t,{className:"h-10 w-full"})]}),e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-20 mb-2"}),e.jsx(t,{className:"h-10 w-full"})]}),e.jsx(t,{className:"h-10 w-full"})]})]}),e.jsxs(v,{className:"lg:col-span-2",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{className:"h-6 w-32"}),e.jsx(t,{className:"h-10 w-48"})]})}),e.jsx(w,{className:"space-y-3",children:[...Array(4)].map((s,C)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(t,{className:"h-5 w-20"}),e.jsx(t,{className:"h-5 w-12"}),e.jsx(t,{className:"h-5 w-16"})]}),e.jsx(t,{className:"h-3 w-24"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{className:"h-8 w-8"}),e.jsx(t,{className:"h-8 w-8"})]})]})},C))})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(v,{className:"lg:col-span-1",children:[e.jsx(y,{children:e.jsx(F,{children:c?"Edit Field":"Add Field"})}),e.jsx(w,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(S,{htmlFor:"category_id",children:"Category *"}),e.jsxs(T,{value:l.category_id,onValueChange:s=>g({...l,category_id:s}),required:!0,children:[e.jsx(M,{className:l.category_id?"":"border-red-500",children:e.jsx(k,{placeholder:"Select category"})}),e.jsx(I,{children:a.map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))})]}),!l.category_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Category is required"})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"name",children:"Field Name *"}),e.jsx(_,{id:"name",value:l.name,onChange:s=>g({...l,name:s.target.value}),placeholder:"e.g., Chest, Waist, Length",required:!0})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"unit",children:"Unit *"}),e.jsxs(T,{value:l.unit,onValueChange:s=>g({...l,unit:s}),required:!0,children:[e.jsx(M,{className:l.unit?"":"border-red-500",children:e.jsx(k,{placeholder:"Select unit"})}),e.jsxs(I,{children:[e.jsx(p,{value:"inches",children:"Inches (in)"}),e.jsx(p,{value:"cm",children:"Centimeters (cm)"}),e.jsx(p,{value:"mm",children:"Millimeters (mm)"}),e.jsx(p,{value:"meters",children:"Meters (m)"}),e.jsx(p,{value:"feet",children:"Feet (ft)"}),e.jsx(p,{value:"yards",children:"Yards (yd)"})]})]}),!l.unit&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Unit is required"})]}),e.jsxs("div",{children:[e.jsx(S,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(_,{id:"sort_order",type:"number",value:l.sort_order,onChange:s=>g({...l,sort_order:parseInt(s.target.value)})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{type:"submit",className:"flex-1",children:[c?e.jsx(V,{className:"h-4 w-4 mr-2"}):e.jsx($,{className:"h-4 w-4 mr-2"}),c?"Update":"Add"]}),c&&e.jsx(N,{type:"button",variant:"outline",onClick:X,children:e.jsx(U,{className:"h-4 w-4"})})]})]})})]}),e.jsxs(v,{className:"lg:col-span-2",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(F,{children:["Fields (",x.length,")"]}),e.jsxs(T,{value:j,onValueChange:q,children:[e.jsx(M,{className:"w-48",children:e.jsx(k,{placeholder:"All Categories"})}),e.jsxs(I,{children:[e.jsx(p,{value:"all",children:"All Categories"}),a.map(s=>e.jsx(p,{value:s.id.toString(),children:s.name},s.id))]})]})]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:x.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx(D,{variant:"outline",children:s.unit}),e.jsx(D,{variant:"secondary",children:s.category.name})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Slug: ",s.slug]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{size:"sm",variant:"outline",onClick:()=>A(s),children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx(N,{size:"sm",variant:"outline",onClick:()=>P(s.id),children:e.jsx(B,{className:"h-4 w-4"})})]})]},s.id))})})]})]})}const de=[{title:"Measurements",href:"/measurements"},{title:"Settings",href:"/measurement-settings"}];function Ee(){const a=K.c(5);let i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i=e.jsx(Y,{title:"Measurement Settings"}),a[0]=i):i=a[0];let x;a[1]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Measurement Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage measurement categories and fields"})]}),a[1]=x):x=a[1];let u;a[2]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs(J,{children:[e.jsx(L,{value:"categories",children:"Categories"}),e.jsx(L,{value:"fields",children:"Fields"})]}),a[2]=u):u=a[2];let n;a[3]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx(R,{value:"categories",children:e.jsx(ce,{})}),a[3]=n):n=a[3];let o;return a[4]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsxs(G,{breadcrumbs:de,children:[i,e.jsxs("div",{className:"space-y-6 p-4",children:[x,e.jsxs(Q,{defaultValue:"categories",className:"w-full",children:[u,n,e.jsx(R,{value:"fields",children:e.jsx(ne,{})})]})]})]}),a[4]=o):o=a[4],o}export{Ee as default};
