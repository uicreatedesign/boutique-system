import{r as c,d as x,t as u,j as e,H as C}from"./app-Mxlfcwve.js";import{B as k}from"./app-logo-icon-X0fn9ruW.js";import{I as o}from"./input-UQDDvGgc.js";import{L as n}from"./label-BjjVFiP8.js";import{S as h,a as _,b,c as y,d as j}from"./select-Fis5kI9r.js";import{T as w}from"./textarea-h4LAysyZ.js";import{H as A}from"./heading-small-Bq_L1uVZ.js";import{I as t}from"./input-error-SJciAJwh.js";import{A as D}from"./app-layout-BTIkFZTX.js";import{S as B}from"./layout-_n8V0uF7.js";/* empty css            */import"./index-DfN43n98.js";import"./index-BCIvWMNn.js";import"./index-B5WPJv-c.js";import"./check-BDdoz-7d.js";import"./index-C4J_hXM0.js";import"./index-DZZlyDoJ.js";const F=[{title:"General Settings",href:"/settings/general"}],f=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"€",name:"Euro"},{code:"GBP",symbol:"£",name:"British Pound"},{code:"INR",symbol:"₹",name:"Indian Rupee"},{code:"PKR",symbol:"₨",name:"Pakistani Rupee"},{code:"BDT",symbol:"৳",name:"Bangladeshi Taka"}],E=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Europe/Berlin","Asia/Kolkata","Asia/Karachi","Asia/Dhaka","Asia/Tokyo","Australia/Sydney"];function Q(){const[p,m]=c.useState(!1),[l,g]=c.useState({}),[r,i]=c.useState({app_name:"",currency:"USD",currency_symbol:"$",tax_rate:"0",order_prefix:"ORD",default_delivery_days:"7",business_name:"",business_address:"",business_phone:"",business_email:"",timezone:"UTC"});c.useEffect(()=>{v()},[]);const v=async()=>{m(!0);try{const s=(await x.get("/api/settings/general")).data;i(d=>({...d,app_name:s.app_name||"",currency:s.currency||"USD",currency_symbol:s.currency_symbol||"$",tax_rate:s.tax_rate||"0",order_prefix:s.order_prefix||"ORD",default_delivery_days:s.default_delivery_days||"7",business_name:s.business_name||"",business_address:s.business_address||"",business_phone:s.business_phone||"",business_email:s.business_email||"",timezone:s.timezone||"UTC"}))}catch{u.error("Failed to load settings")}finally{m(!1)}},N=async a=>{a.preventDefault(),m(!0),g({});try{await x.put("/api/settings/general",r),u.success("General settings updated successfully")}catch(s){s.response?.data?.errors&&g(s.response.data.errors),u.error("Failed to update general settings"),console.error("Failed to update general settings:",s)}finally{m(!1)}},S=a=>{const s=f.find(d=>d.code===a);s&&i(d=>({...d,currency:s.code,currency_symbol:s.symbol}))};return e.jsxs(D,{breadcrumbs:F,children:[e.jsx(C,{title:"General Settings"}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(A,{title:"General Settings",description:"Configure application and business settings"}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"app_name",children:"Application Name"}),e.jsx(o,{id:"app_name",value:r.app_name,onChange:a=>i(s=>({...s,app_name:a.target.value})),placeholder:"Boutique System",className:"mt-1 block w-full"}),e.jsx(t,{message:l.app_name?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"order_prefix",children:"Order Number Prefix"}),e.jsx(o,{id:"order_prefix",value:r.order_prefix,onChange:a=>i(s=>({...s,order_prefix:a.target.value})),placeholder:"ORD",className:"mt-1 block w-full"}),e.jsx(t,{message:l.order_prefix?.[0]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"currency",children:"Currency"}),e.jsxs(h,{value:r.currency,onValueChange:S,children:[e.jsx(_,{className:"mt-1 block w-full",children:e.jsx(b,{})}),e.jsx(y,{children:f.map(a=>e.jsxs(j,{value:a.code,children:[a.symbol," ",a.code," - ",a.name]},a.code))})]}),e.jsx(t,{message:l.currency?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"tax_rate",children:"Tax Rate (%)"}),e.jsx(o,{id:"tax_rate",type:"number",min:"0",max:"100",step:"0.01",value:r.tax_rate,onChange:a=>i(s=>({...s,tax_rate:a.target.value})),className:"mt-1 block w-full"}),e.jsx(t,{message:l.tax_rate?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"default_delivery_days",children:"Default Delivery Days"}),e.jsx(o,{id:"default_delivery_days",type:"number",min:"1",value:r.default_delivery_days,onChange:a=>i(s=>({...s,default_delivery_days:a.target.value})),className:"mt-1 block w-full"}),e.jsx(t,{message:l.default_delivery_days?.[0]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(h,{value:r.timezone,onValueChange:a=>i(s=>({...s,timezone:a})),children:[e.jsx(_,{className:"mt-1 block w-full",children:e.jsx(b,{})}),e.jsx(y,{children:E.map(a=>e.jsx(j,{value:a,children:a},a))})]}),e.jsx(t,{message:l.timezone?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_name",children:"Business Name"}),e.jsx(o,{id:"business_name",value:r.business_name,onChange:a=>i(s=>({...s,business_name:a.target.value})),placeholder:"My Boutique",className:"mt-1 block w-full"}),e.jsx(t,{message:l.business_name?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_address",children:"Business Address"}),e.jsx(w,{id:"business_address",value:r.business_address,onChange:a=>i(s=>({...s,business_address:a.target.value})),placeholder:"Enter your complete business address",rows:3,className:"mt-1 block w-full"}),e.jsx(t,{message:l.business_address?.[0]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_phone",children:"Business Phone"}),e.jsx(o,{id:"business_phone",value:r.business_phone,onChange:a=>i(s=>({...s,business_phone:a.target.value})),placeholder:"+1 (555) 123-4567",className:"mt-1 block w-full"}),e.jsx(t,{message:l.business_phone?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_email",children:"Business Email"}),e.jsx(o,{id:"business_email",type:"email",value:r.business_email,onChange:a=>i(s=>({...s,business_email:a.target.value})),placeholder:"contact@myboutique.com",className:"mt-1 block w-full"}),e.jsx(t,{message:l.business_email?.[0]})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(k,{type:"submit",disabled:p,children:p?"Saving...":"Save"})})]})]})})]})}export{Q as default};
