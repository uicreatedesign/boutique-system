import{c as Ae,r as Y,j as t,F as Ue,e as ze,u as $e,L as Be,a as Qe,H as Pe}from"./app-s6NgXo84.js";import{s as Ge}from"./index-BZygBcuh.js";import{q as ge}from"./index-Cm2o4msX.js";import{H as Te}from"./heading-small-B7-igSUm.js";import{I as Ce}from"./input-error-CjnYzPGy.js";import{B as V}from"./app-logo-icon-B0fBNtIv.js";import{c as Oe,b as Me,f as We,e as Je,g as Ve,a as Ye,d as Ze}from"./dialog-C3gyF7XN.js";import{I as De}from"./input-DxU08Nhu.js";import{L as ye}from"./label-CphVOY8c.js";import{c as Ke,Z as Xe,A as qe,W as et,d as tt,b as st}from"./app-layout-MdC0vklR.js";import{S as Fe}from"./layout-DzPs6xqs.js";import{S as i}from"./skeleton-CTqK9_9c.js";import{T as at}from"./trash-2-BeV3y9ve.js";import{C as rt}from"./camera-C9mTW6RN.js";import{z as lt}from"./transition-Vky7CTqg.js";/* empty css            */import"./index-COLmkTQT.js";import"./index-_mjGiuzX.js";import"./index-DT9YenLd.js";const m=s=>({url:m.url(s),method:"get"});m.definition={methods:["get","head"],url:"/settings/profile"};m.url=s=>m.definition.url+ge(s);m.get=s=>({url:m.url(s),method:"get"});m.head=s=>({url:m.url(s),method:"head"});const Ee=s=>({action:m.url(s),method:"get"});Ee.get=s=>({action:m.url(s),method:"get"});Ee.head=s=>({action:m.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...s?.query??s?.mergeQuery??{}}}),method:"get"});m.form=Ee;const c=s=>({url:c.url(s),method:"patch"});c.definition={methods:["patch"],url:"/settings/profile"};c.url=s=>c.definition.url+ge(s);c.patch=s=>({url:c.url(s),method:"patch"});const Le=s=>({action:c.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...s?.query??s?.mergeQuery??{}}}),method:"post"});Le.patch=s=>({action:c.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...s?.query??s?.mergeQuery??{}}}),method:"post"});c.form=Le;const d=s=>({url:d.url(s),method:"delete"});d.definition={methods:["delete"],url:"/settings/profile"};d.url=s=>d.definition.url+ge(s);d.delete=s=>({url:d.url(s),method:"delete"});const Ie=s=>({action:d.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...s?.query??s?.mergeQuery??{}}}),method:"post"});Ie.delete=s=>({action:d.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...s?.query??s?.mergeQuery??{}}}),method:"post"});d.form=Ie;const u=s=>({url:u.url(s),method:"delete"});u.definition={methods:["delete"],url:"/settings/profile/avatar"};u.url=s=>u.definition.url+ge(s);u.delete=s=>({url:u.url(s),method:"delete"});const He=s=>({action:u.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...s?.query??s?.mergeQuery??{}}}),method:"post"});He.delete=s=>({action:u.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...s?.query??s?.mergeQuery??{}}}),method:"post"});u.form=He;const it={edit:m,update:c,destroy:d,removeAvatar:u};function ot(){const s=Ae.c(9),e=Y.useRef(null);let f;s[0]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(Te,{title:"Delete account",description:"Delete your account and all of its resources"}),s[0]=f):f=s[0];let h;s[1]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[t.jsx("p",{className:"font-medium",children:"Warning"}),t.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),s[1]=h):h=s[1];let a;s[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(Ve,{asChild:!0,children:t.jsx(V,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),s[2]=a):a=s[2];let p,g;s[3]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(Ye,{children:"Are you sure you want to delete your account?"}),g=t.jsx(Ze,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),s[3]=p,s[4]=g):(p=s[3],g=s[4]);let x,j,v;s[5]===Symbol.for("react.memo_cache_sentinel")?(x=it.destroy(),j={preserveScroll:!0},v=()=>e.current?.focus(),s[5]=x,s[6]=j,s[7]=v):(x=s[5],j=s[6],v=s[7]);let y;return s[8]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs("div",{className:"space-y-6",children:[f,t.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[h,t.jsxs(Oe,{children:[a,t.jsxs(Me,{children:[p,g,t.jsx(Ue,{...x,options:j,onError:v,resetOnSuccess:!0,className:"space-y-6",children:_=>{const{resetAndClearErrors:N,processing:r,errors:l}=_;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ye,{htmlFor:"password",className:"sr-only",children:"Password"}),t.jsx(De,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),t.jsx(Ce,{message:l.password})]}),t.jsxs(We,{className:"gap-2",children:[t.jsx(Je,{asChild:!0,children:t.jsx(V,{variant:"secondary",onClick:()=>N(),children:"Cancel"})}),t.jsx(V,{variant:"destructive",disabled:r,asChild:!0,children:t.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),s[8]=y):y=s[8],y}const ke=[{title:"Profile settings",href:et().url}];function Dt(s){const e=Ae.c(102),{mustVerifyEmail:f,status:h}=s,{auth:a}=ze().props,p=Xe(),[g,x]=Y.useState(null),[j,v]=Y.useState(!0),y=Y.useRef(null);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{const o=setTimeout(()=>v(!1),800);return()=>clearTimeout(o)},e[0]=_):_=e[0],Y.useState(_);let N;e[1]!==a.user.email||e[2]!==a.user.name?(N={name:a.user.name,email:a.user.email,avatar:null},e[1]=a.user.email,e[2]=a.user.name,e[3]=N):N=e[3];const{data:r,setData:l,processing:je,errors:b,recentlySuccessful:ve}=$e(N);let Z;e[4]!==l?(Z=o=>{const n=o.target.files?.[0];if(n){l("avatar",n);const J=URL.createObjectURL(n);x(J)}},e[4]=l,e[5]=Z):Z=e[5];const _e=Z;let K;e[6]!==l?(K=()=>{Qe.delete("/settings/profile/avatar",{preserveScroll:!0,onSuccess:()=>{l("avatar",null),x(null)}})},e[6]=l,e[7]=K):K=e[7];const Ne=K;let X;e[8]!==r.avatar||e[9]!==r.email||e[10]!==r.name||e[11]!==l?(X=o=>{o.preventDefault();const n=new FormData;n.append("name",r.name),n.append("email",r.email),n.append("_method","PATCH"),r.avatar&&n.append("avatar",r.avatar),Qe.post("/settings/profile",n,{preserveScroll:!0,onSuccess:()=>{l("avatar",null),x(null)}})},e[8]=r.avatar,e[9]=r.email,e[10]=r.name,e[11]=l,e[12]=X):X=e[12];const be=X,Re=g||(a.user.avatar?`/storage/${a.user.avatar}`:null);if(j){let o;e[13]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(Pe,{title:"Profile settings"}),e[13]=o):o=e[13];let n;e[14]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsxs("div",{className:"space-y-2",children:[t.jsx(i,{className:"h-7 w-48"}),t.jsx(i,{className:"h-4 w-80"})]}),e[14]=n):n=e[14];let J;e[15]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(i,{className:"h-4 w-24"}),e[15]=J):J=e[15];let de;e[16]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(i,{className:"h-20 w-20 rounded-full"}),e[16]=de):de=e[16];let ue;e[17]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsxs("div",{className:"space-y-4",children:[J,t.jsxs("div",{className:"flex items-center gap-4",children:[de,t.jsxs("div",{className:"flex gap-2",children:[t.jsx(i,{className:"h-9 w-20"}),t.jsx(i,{className:"h-9 w-20"})]})]}),t.jsx(i,{className:"h-4 w-48"})]}),e[17]=ue):ue=e[17];let fe;e[18]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs("div",{className:"grid gap-2",children:[t.jsx(i,{className:"h-4 w-12"}),t.jsx(i,{className:"h-10 w-full"})]}),e[18]=fe):fe=e[18];let he;e[19]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs("div",{className:"grid gap-2",children:[t.jsx(i,{className:"h-4 w-24"}),t.jsx(i,{className:"h-10 w-full"})]}),e[19]=he):he=e[19];let pe;e[20]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsxs("div",{className:"space-y-6",children:[fe,he,t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(i,{className:"h-10 w-16"})})]}),e[20]=pe):pe=e[20];let xe;return e[21]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs(qe,{breadcrumbs:ke,children:[o,t.jsx(Fe,{children:t.jsxs("div",{className:"space-y-6",children:[n,ue,pe,t.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(i,{className:"h-6 w-32"}),t.jsx(i,{className:"h-4 w-96"})]}),t.jsx(i,{className:"h-10 w-32"})]})]})})]}),e[21]=xe):xe=e[21],xe}let ee;e[22]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Pe,{title:"Profile settings"}),e[22]=ee):ee=e[22];let te;e[23]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(Te,{title:"Profile information",description:"Update your profile picture, name and email address"}),e[23]=te):te=e[23];let se;e[24]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(ye,{children:"Profile Picture"}),e[24]=se):se=e[24];const Se=Re||void 0;let S;e[25]!==a.user.name||e[26]!==Se?(S=t.jsx(Ke,{src:Se,alt:a.user.name}),e[25]=a.user.name,e[26]=Se,e[27]=S):S=e[27];let w;e[28]!==a.user.name||e[29]!==p?(w=p(a.user.name),e[28]=a.user.name,e[29]=p,e[30]=w):w=e[30];let C;e[31]!==w?(C=t.jsx(tt,{className:"text-lg",children:w}),e[31]=w,e[32]=C):C=e[32];let D;e[33]!==S||e[34]!==C?(D=t.jsxs(st,{className:"h-20 w-20",children:[S,C]}),e[33]=S,e[34]=C,e[35]=D):D=e[35];let ae,re;e[36]===Symbol.for("react.memo_cache_sentinel")?(ae=()=>y.current?.click(),re=t.jsx(rt,{className:"h-4 w-4 mr-2"}),e[36]=ae,e[37]=re):(ae=e[36],re=e[37]);const we=a.user.avatar?"Change":"Upload";let E;e[38]!==we?(E=t.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:ae,children:[re,we]}),e[38]=we,e[39]=E):E=e[39];let Q;e[40]!==a.user.avatar||e[41]!==r.avatar||e[42]!==Ne?(Q=(a.user.avatar||r.avatar)&&t.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:Ne,children:[t.jsx(at,{className:"h-4 w-4 mr-2"}),"Remove"]}),e[40]=a.user.avatar,e[41]=r.avatar,e[42]=Ne,e[43]=Q):Q=e[43];let P;e[44]!==E||e[45]!==Q?(P=t.jsxs("div",{className:"flex gap-2",children:[E,Q]}),e[44]=E,e[45]=Q,e[46]=P):P=e[46];let q;e[47]!==D||e[48]!==P?(q=t.jsxs("div",{className:"flex items-center gap-4",children:[D,P]}),e[47]=D,e[48]=P,e[49]=q):q=e[49];let F;e[50]!==_e?(F=t.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:_e,className:"hidden"}),e[50]=_e,e[51]=F):F=e[51];let le;e[52]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("p",{className:"text-sm text-muted-foreground",children:"JPG, PNG or GIF. Max size 2MB."}),e[52]=le):le=e[52];let k;e[53]!==q||e[54]!==F?(k=t.jsxs("div",{className:"space-y-4",children:[se,q,F,le]}),e[53]=q,e[54]=F,e[55]=k):k=e[55];let ie;e[56]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(ye,{htmlFor:"name",children:"Name"}),e[56]=ie):ie=e[56];let A;e[57]!==l?(A=o=>l("name",o.target.value),e[57]=l,e[58]=A):A=e[58];let T;e[59]!==r.name||e[60]!==A?(T=t.jsx(De,{id:"name",className:"mt-1 block w-full",value:r.name,onChange:A,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),e[59]=r.name,e[60]=A,e[61]=T):T=e[61];let L;e[62]!==b.name?(L=t.jsx(Ce,{className:"mt-2",message:b.name}),e[62]=b.name,e[63]=L):L=e[63];let I;e[64]!==T||e[65]!==L?(I=t.jsxs("div",{className:"grid gap-2",children:[ie,T,L]}),e[64]=T,e[65]=L,e[66]=I):I=e[66];let oe;e[67]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(ye,{htmlFor:"email",children:"Email address"}),e[67]=oe):oe=e[67];let H;e[68]!==l?(H=o=>l("email",o.target.value),e[68]=l,e[69]=H):H=e[69];let R;e[70]!==r.email||e[71]!==H?(R=t.jsx(De,{id:"email",type:"email",className:"mt-1 block w-full",value:r.email,onChange:H,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),e[70]=r.email,e[71]=H,e[72]=R):R=e[72];let U;e[73]!==b.email?(U=t.jsx(Ce,{className:"mt-2",message:b.email}),e[73]=b.email,e[74]=U):U=e[74];let z;e[75]!==R||e[76]!==U?(z=t.jsxs("div",{className:"grid gap-2",children:[oe,R,U]}),e[75]=R,e[76]=U,e[77]=z):z=e[77];let $;e[78]!==a.user.email_verified_at||e[79]!==f||e[80]!==h?($=f&&a.user.email_verified_at===null&&t.jsxs("div",{children:[t.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",t.jsx(Be,{href:Ge(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),h==="verification-link-sent"&&t.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),e[78]=a.user.email_verified_at,e[79]=f,e[80]=h,e[81]=$):$=e[81];let B;e[82]!==je?(B=t.jsx(V,{disabled:je,"data-test":"update-profile-button",children:"Save"}),e[82]=je,e[83]=B):B=e[83];let ne;e[84]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"}),e[84]=ne):ne=e[84];let G;e[85]!==ve?(G=t.jsx(lt,{show:ve,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:ne}),e[85]=ve,e[86]=G):G=e[86];let O;e[87]!==B||e[88]!==G?(O=t.jsxs("div",{className:"flex items-center gap-4",children:[B,G]}),e[87]=B,e[88]=G,e[89]=O):O=e[89];let M;e[90]!==be||e[91]!==I||e[92]!==z||e[93]!==$||e[94]!==O?(M=t.jsxs("form",{onSubmit:be,className:"space-y-6",children:[I,z,$,O]}),e[90]=be,e[91]=I,e[92]=z,e[93]=$,e[94]=O,e[95]=M):M=e[95];let W;e[96]!==k||e[97]!==M?(W=t.jsxs("div",{className:"space-y-6",children:[te,k,M]}),e[96]=k,e[97]=M,e[98]=W):W=e[98];let me;e[99]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(ot,{}),e[99]=me):me=e[99];let ce;return e[100]!==W?(ce=t.jsxs(qe,{breadcrumbs:ke,children:[ee,t.jsxs(Fe,{children:[W,me]})]}),e[100]=W,e[101]=ce):ce=e[101],ce}export{Dt as default};
