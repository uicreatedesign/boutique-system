import{r as o,d as x,t as g,j as e,H as h}from"./app-CuMYGVkL.js";import{B}from"./app-logo-icon-ChWx987R.js";import{I as t}from"./input-DUSeuPxY.js";import{L as n}from"./label-DIWDA_IM.js";import{S as j,a as b,b as y,c as v,d as _}from"./select-L2oKoFgp.js";import{T as F}from"./textarea-DsA_uSMC.js";import{H as f}from"./heading-small-CmISJgqz.js";import{I as d}from"./input-error-CBTtipOq.js";import{A as N}from"./app-layout-BRI9TXqx.js";import{S as w}from"./layout-CsjJhgef.js";/* empty css            */import"./index-B-cXXmOe.js";import"./index-Bs1rG-Bl.js";import"./index-CHaiS2Tr.js";import"./check-DiwIk02C.js";import"./index-C4J_hXM0.js";import"./index-DZZlyDoJ.js";const S=[{title:"General Settings",href:"/settings/general"}],C=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"€",name:"Euro"},{code:"GBP",symbol:"£",name:"British Pound"},{code:"INR",symbol:"₹",name:"Indian Rupee"},{code:"PKR",symbol:"₨",name:"Pakistani Rupee"},{code:"BDT",symbol:"৳",name:"Bangladeshi Taka"}],E=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Europe/Berlin","Asia/Kolkata","Asia/Karachi","Asia/Dhaka","Asia/Tokyo","Australia/Sydney"];function Q(){const[u,m]=o.useState(!1),[l,p]=o.useState({}),[r,i]=o.useState({app_name:"",currency:"USD",currency_symbol:"$",tax_rate:"0",order_prefix:"ORD",default_delivery_days:"7",business_name:"",business_address:"",business_phone:"",business_email:"",timezone:"UTC"});o.useEffect(()=>{k()},[]);const k=async()=>{m(!0);try{const s=(await x.get("/api/settings/general")).data;i(c=>({...c,app_name:s.app_name||"",currency:s.currency||"USD",currency_symbol:s.currency_symbol||"$",tax_rate:s.tax_rate||"0",order_prefix:s.order_prefix||"ORD",default_delivery_days:s.default_delivery_days||"7",business_name:s.business_name||"",business_address:s.business_address||"",business_phone:s.business_phone||"",business_email:s.business_email||"",timezone:s.timezone||"UTC"}))}catch{g.error("Failed to load settings")}finally{m(!1)}},A=async a=>{a.preventDefault(),m(!0),p({});try{await x.put("/api/settings/general",r),g.success("General settings updated successfully")}catch(s){s.response?.data?.errors&&p(s.response.data.errors),g.error("Failed to update general settings"),console.error("Failed to update general settings:",s)}finally{m(!1)}},D=a=>{const s=C.find(c=>c.code===a);s&&i(c=>({...c,currency:s.code,currency_symbol:s.symbol}))};return u&&!r.app_name?e.jsxs(N,{breadcrumbs:S,children:[e.jsx(h,{title:"General Settings"}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(f,{title:"General Settings",description:"Configure application and business settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-24 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]})]}),e.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded animate-pulse"})]})]})})]}):e.jsxs(N,{breadcrumbs:S,children:[e.jsx(h,{title:"General Settings"}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(f,{title:"General Settings",description:"Configure application and business settings"}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"app_name",children:"Application Name"}),e.jsx(t,{id:"app_name",value:r.app_name,onChange:a=>i(s=>({...s,app_name:a.target.value})),placeholder:"Boutique System",className:"mt-1 block w-full"}),e.jsx(d,{message:l.app_name?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"order_prefix",children:"Order Number Prefix"}),e.jsx(t,{id:"order_prefix",value:r.order_prefix,onChange:a=>i(s=>({...s,order_prefix:a.target.value})),placeholder:"ORD",className:"mt-1 block w-full"}),e.jsx(d,{message:l.order_prefix?.[0]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"currency",children:"Currency"}),e.jsxs(j,{value:r.currency,onValueChange:D,children:[e.jsx(b,{className:"mt-1 block w-full",children:e.jsx(y,{})}),e.jsx(v,{children:C.map(a=>e.jsxs(_,{value:a.code,children:[a.symbol," ",a.code," - ",a.name]},a.code))})]}),e.jsx(d,{message:l.currency?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"tax_rate",children:"Tax Rate (%)"}),e.jsx(t,{id:"tax_rate",type:"number",min:"0",max:"100",step:"0.01",value:r.tax_rate,onChange:a=>i(s=>({...s,tax_rate:a.target.value})),className:"mt-1 block w-full"}),e.jsx(d,{message:l.tax_rate?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"default_delivery_days",children:"Default Delivery Days"}),e.jsx(t,{id:"default_delivery_days",type:"number",min:"1",value:r.default_delivery_days,onChange:a=>i(s=>({...s,default_delivery_days:a.target.value})),className:"mt-1 block w-full"}),e.jsx(d,{message:l.default_delivery_days?.[0]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(j,{value:r.timezone,onValueChange:a=>i(s=>({...s,timezone:a})),children:[e.jsx(b,{className:"mt-1 block w-full",children:e.jsx(y,{})}),e.jsx(v,{children:E.map(a=>e.jsx(_,{value:a,children:a},a))})]}),e.jsx(d,{message:l.timezone?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_name",children:"Business Name"}),e.jsx(t,{id:"business_name",value:r.business_name,onChange:a=>i(s=>({...s,business_name:a.target.value})),placeholder:"My Boutique",className:"mt-1 block w-full"}),e.jsx(d,{message:l.business_name?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_address",children:"Business Address"}),e.jsx(F,{id:"business_address",value:r.business_address,onChange:a=>i(s=>({...s,business_address:a.target.value})),placeholder:"Enter your complete business address",rows:3,className:"mt-1 block w-full"}),e.jsx(d,{message:l.business_address?.[0]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_phone",children:"Business Phone"}),e.jsx(t,{id:"business_phone",value:r.business_phone,onChange:a=>i(s=>({...s,business_phone:a.target.value})),placeholder:"+1 (555) 123-4567",className:"mt-1 block w-full"}),e.jsx(d,{message:l.business_phone?.[0]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"business_email",children:"Business Email"}),e.jsx(t,{id:"business_email",type:"email",value:r.business_email,onChange:a=>i(s=>({...s,business_email:a.target.value})),placeholder:"contact@myboutique.com",className:"mt-1 block w-full"}),e.jsx(d,{message:l.business_email?.[0]})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(B,{type:"submit",disabled:u,children:u?"Saving...":"Save"})})]})]})})]})}export{Q as default};
