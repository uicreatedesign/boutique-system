import{c as L,j as s,L as P,H as A,I as B}from"./app-BpTOPVvt.js";import{t as H,P as O,B as E,v as I,A as R}from"./app-layout-B9_iSVdz.js";import{c as D,a as C,C as S,b as M}from"./card-BMN4rD2M.js";import{B as k}from"./app-logo-icon-Bbyhofao.js";import{A as T,a as $}from"./alert-C0scrscY.js";import{u as z}from"./use-currency-BbUclAFc.js";import{D as U}from"./download-DDFpZbmv.js";import{U as q}from"./user-B8fCJSxq.js";/* empty css            */import"./index-B5h8EcCq.js";import"./index-pF7Yf28U.js";import"./index-Cm2o4msX.js";import"./input-CnJZo_6h.js";const V=[{title:"My Dashboard",href:"/customer-dashboard"}];function ie(l){const e=L.c(32),{customer:a,orders:h,measurements:j}=l,{formatCurrency:p}=z(),{hasPermission:r}=H();let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(A,{title:"My Dashboard"}),e[0]=f):f=e[0];let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h1",{className:"text-3xl font-bold",children:"My Dashboard"}),e[1]=u):u=e[1];let i;e[2]!==a.name?(i=s.jsxs("div",{children:[u,s.jsxs("p",{className:"text-gray-600",children:["Welcome, ",a.name]})]}),e[2]=a.name,e[3]=i):i=e[3];let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(C,{children:s.jsxs(S,{className:"flex items-center gap-2",children:[s.jsx(q,{className:"h-5 w-5"}),"My Information"]})}),e[4]=y):y=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e[5]=g):g=e[5];let n;e[6]!==a.name?(n=s.jsxs("div",{children:[g,s.jsx("p",{className:"font-medium",children:a.name})]}),e[6]=a.name,e[7]=n):n=e[7];let N;e[8]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e[8]=N):N=e[8];let c;e[9]!==a.email?(c=s.jsxs("div",{children:[N,s.jsx("p",{className:"font-medium",children:a.email})]}),e[9]=a.email,e[10]=c):c=e[10];let _;e[11]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e[11]=_):_=e[11];let m;e[12]!==a.phone?(m=s.jsxs("div",{children:[_,s.jsx("p",{className:"font-medium",children:a.phone})]}),e[12]=a.phone,e[13]=m):m=e[13];let o;e[14]!==m||e[15]!==n||e[16]!==c?(o=s.jsxs(D,{children:[y,s.jsx(M,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n,c,m]})})]}),e[14]=m,e[15]=n,e[16]=c,e[17]=o):o=e[17];let b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(B,{className:"h-4 w-4"}),e[18]=b):b=e[18];let v;e[19]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs(T,{children:[b,s.jsxs($,{children:[s.jsx("strong",{children:"Coming Soon:"})," Online payment feature will be available soon. Currently, payments are processed at the boutique."]})]}),e[19]=v):v=e[19];let d;e[20]!==p||e[21]!==r||e[22]!==h?(d=r("view_own_orders")&&s.jsxs(D,{children:[s.jsx(C,{children:s.jsxs(S,{className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-5 w-5"}),"My Orders (",h.length,")"]})}),s.jsx(M,{children:h.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No orders found"}):s.jsx("div",{className:"space-y-4",children:h.map(t=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:t.order_number}),s.jsx(E,{style:{backgroundColor:t.status_color},children:t.status})]}),s.jsx("p",{className:"text-sm text-gray-600",children:t.garment_type}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("span",{children:["Order: ",new Date(t.order_date).toLocaleDateString()]}),s.jsxs("span",{children:["Delivery: ",new Date(t.delivery_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("span",{children:["Total: ",p(t.total_amount)]}),s.jsxs("span",{children:["Paid: ",p(t.paid_amount)]}),t.balance_due>0&&s.jsxs("span",{className:"text-red-600 font-medium",children:["Due: ",p(t.balance_due)]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(P,{href:`/customer-dashboard/orders/${t.id}`,children:s.jsx(k,{size:"sm",variant:"outline",children:"View Details"})}),r("download_own_invoices")&&s.jsx("a",{href:`/customer-dashboard/orders/${t.id}/invoice`,target:"_blank",rel:"noopener noreferrer",children:s.jsx(k,{size:"sm",variant:"outline",children:s.jsx(U,{className:"h-4 w-4"})})})]})]})},t.id))})})]}),e[20]=p,e[21]=r,e[22]=h,e[23]=d):d=e[23];let x;e[24]!==r||e[25]!==j?(x=r("view_own_measurements")&&s.jsxs(D,{children:[s.jsx(C,{children:s.jsxs(S,{className:"flex items-center gap-2",children:[s.jsx(I,{className:"h-5 w-5"}),"My Measurements (",j.length,")"]})}),s.jsx(M,{children:j.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No measurements recorded"}):s.jsx("div",{className:"space-y-4",children:j.map(W)})})]}),e[24]=r,e[25]=j,e[26]=x):x=e[26];let w;return e[27]!==o||e[28]!==d||e[29]!==x||e[30]!==i?(w=s.jsxs(R,{breadcrumbs:V,children:[f,s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[i,o,v,d,x]})]}),e[27]=o,e[28]=d,e[29]=x,e[30]=i,e[31]=w):w=e[31],w}function W(l){return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:l.measurement_type}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tailor: ",l.tailor.name]})]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(l.created_at).toLocaleDateString()})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-3",children:Object.entries(l.measurements).map(F)})]},l.id)}function F(l){const[e,a]=l;return s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[e,":"]}),s.jsx("span",{className:"ml-1 font-medium",children:a})]},e)}export{ie as default};
