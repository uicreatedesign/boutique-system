import{c as T,e as z,r as _,j as e,L as k,a as E,H as G}from"./app-DTo2FTxs.js";import{P as I}from"./pagination-BA2BfbzQ.js";import{B as M,S as U,A as $}from"./app-layout-B3SeW2qZ.js";import{B as O}from"./app-logo-icon-B1Mtblg5.js";import{b as F,C as q,a as V,c as W}from"./card-BL35Il8r.js";import{I as J}from"./input-BfO7uzZJ.js";import{u as K}from"./use-currency-DAQN2Upu.js";import{S as r}from"./skeleton-DjXpic6C.js";import{E as Q}from"./eye-CvSUxJsw.js";import{S as X}from"./square-pen-DRdY5ol2.js";import{P as Y}from"./plus-B9DuO_gA.js";/* empty css            */import"./select-BqzgTI5g.js";import"./index-BdY8YYy_.js";import"./index-BSESEqcn.js";import"./index-C88bAcDl.js";import"./check-gxZKF8FG.js";import"./chevron-left-Dtw49aZt.js";import"./index-C4J_hXM0.js";function ge(A){const s=T.c(32),{orders:a,canCreate:B,canEdit:R}=A,w=B===void 0?!1:B,v=R===void 0?!1:R,{url:y}=z(),H=new URLSearchParams(window.location.search),[l,S]=_.useState(15),[C,D]=_.useState(H.get("search")||""),[P]=_.useState(!1),{formatCurrency:L}=K();let x;s[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{const h=new URLSearchParams(window.location.search).get("search");h&&D(h)},s[0]=x):x=s[0];let p;s[1]!==y?(p=[y],s[1]=y,s[2]=p):p=s[2],_.useEffect(x,p);let j;s[3]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsx(G,{title:"Orders"}),s[3]=j):j=s[3];let f;s[4]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),s[4]=f):f=s[4];let c;s[5]!==w?(c=w&&e.jsx(k,{href:"/orders/create",children:e.jsxs(O,{children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Create Order"]})}),s[5]=w,s[6]=c):c=s[6];let n;s[7]!==c?(n=e.jsxs("div",{className:"flex items-center justify-between",children:[f,c]}),s[7]=c,s[8]=n):n=s[8];let u;s[9]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsx(q,{children:"Order List"}),s[9]=u):u=s[9];let N;s[10]===Symbol.for("react.memo_cache_sentinel")?(N=e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s[10]=N):N=s[10];let g;s[11]===Symbol.for("react.memo_cache_sentinel")?(g=t=>{D(t.target.value);const h=new URLSearchParams(window.location.search);t.target.value?h.set("search",t.target.value):h.delete("search"),E.get("/orders",Object.fromEntries(h),{preserveState:!0,replace:!0})},s[11]=g):g=s[11];let i;s[12]!==C?(i=e.jsx(V,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[u,e.jsxs("div",{className:"relative max-w-sm",children:[N,e.jsx(J,{placeholder:"Search orders...",value:C,onChange:g,className:"pl-10"})]})]})}),s[12]=C,s[13]=i):i=s[13];let m;s[14]!==v||s[15]!==L||s[16]!==P||s[17]!==a.data?(m=e.jsx(F,{children:P?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4",children:"Order #"}),e.jsx("th",{className:"text-left p-4",children:"Customer"}),e.jsx("th",{className:"text-left p-4",children:"Garment"}),e.jsx("th",{className:"text-left p-4",children:"Tailor"}),e.jsx("th",{className:"text-left p-4",children:"Status"}),e.jsx("th",{className:"text-left p-4",children:"Delivery"}),e.jsx("th",{className:"text-left p-4",children:"Amount"}),e.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),e.jsx("tbody",{children:[...Array(5)].map(Z)})]})}):a.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsx("svg",{className:"w-48 h-48 mb-6 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Orders Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"Get started by creating your first order."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4",children:"Order #"}),e.jsx("th",{className:"text-left p-4",children:"Customer"}),e.jsx("th",{className:"text-left p-4",children:"Garment"}),e.jsx("th",{className:"text-left p-4",children:"Tailor"}),e.jsx("th",{className:"text-left p-4",children:"Status"}),e.jsx("th",{className:"text-left p-4",children:"Delivery"}),e.jsx("th",{className:"text-left p-4",children:"Amount"}),e.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),e.jsx("tbody",{children:a.data.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-[oklch(0.269_0_0)]",children:[e.jsx("td",{className:"p-4 font-medium",children:t.order_number}),e.jsx("td",{className:"p-4",children:t.customer.name}),e.jsx("td",{className:"p-4",children:t.garment_type.name}),e.jsx("td",{className:"p-4",children:t.tailor.name}),e.jsx("td",{className:"p-4",children:e.jsx(M,{style:{backgroundColor:t.stitching_status.color},children:t.stitching_status.name})}),e.jsx("td",{className:"p-4 text-sm",children:new Date(t.delivery_date).toLocaleDateString()}),e.jsx("td",{className:"p-4",children:L(t.total_amount)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{href:`/orders/${t.id}`,children:e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(Q,{className:"h-4 w-4"})})}),v&&e.jsx(k,{href:`/orders/${t.id}/edit`,children:e.jsx(O,{size:"sm",variant:"outline",children:e.jsx(X,{className:"h-4 w-4"})})})]})})]},t.id))})]})})}),s[14]=v,s[15]=L,s[16]=P,s[17]=a.data,s[18]=m):m=s[18];let o;s[19]!==i||s[20]!==m?(o=e.jsxs(W,{children:[i,m]}),s[19]=i,s[20]=m,s[21]=o):o=s[21];let d;s[22]!==a.current_page||s[23]!==a.data.length||s[24]!==a.last_page||s[25]!==l||s[26]!==S?(d=a.data.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx(I,{currentPage:a.current_page,totalPages:a.last_page,onPageChange:t=>E.get("/orders",{page:t,per_page:l},{preserveState:!0}),showingFrom:(a.current_page-1)*l+1,showingTo:Math.min(a.current_page*l,a.data.length),total:a.data.length,perPage:l,onPerPageChange:t=>{S(t),E.get("/orders",{per_page:t},{preserveState:!0})}})}),s[22]=a.current_page,s[23]=a.data.length,s[24]=a.last_page,s[25]=l,s[26]=S,s[27]=d):d=s[27];let b;return s[28]!==o||s[29]!==d||s[30]!==n?(b=e.jsxs($,{children:[j,e.jsxs("div",{className:"space-y-6 p-4",children:[n,o,d]})]}),s[28]=o,s[29]=d,s[30]=n,s[31]=b):b=s[31],b}function Z(A,s){return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-5 w-32"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-28"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-24"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-28"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-6 w-20"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-24"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-20"})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{className:"h-9 w-9"}),e.jsx(r,{className:"h-9 w-9"})]})})]},s)}export{ge as default};
