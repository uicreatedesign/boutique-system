import{c as p,j as e,L as u,H as f}from"./app-BSeiqLxs.js";import{t as g,B as y,P as _,A as b}from"./app-layout-Dv3KblPP.js";import{b as N,a as v,C as w,c as C}from"./card-zu4tcvqH.js";import{B as h}from"./app-logo-icon-s1D6xXp_.js";import{u as D}from"./use-currency-FmoX3MTf.js";import{E as O}from"./eye-Dq5Z6rcZ.js";import{D as k}from"./download-Bf-MRr-8.js";/* empty css            */import"./index-CHRHxb3L.js";import"./index-B8opxvjJ.js";import"./index-C4J_hXM0.js";import"./input-_fpRneMl.js";const L=[{title:"My Orders",href:"/customer/orders"}];function G(j){const s=p.c(12),{orders:r}=j,{formatCurrency:n}=D(),{hasPermission:m}=g();let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=e.jsx(f,{title:"My Orders"}),s[0]=i):i=s[0];let c;s[1]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Orders"}),e.jsx("p",{className:"text-gray-600",children:"View all your orders and their status"})]}),s[1]=c):c=s[1];let d;s[2]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsx(_,{className:"h-5 w-5"}),s[2]=d):d=s[2];const x=r.meta?.total||r.data?.length||0;let t;s[3]!==x?(t=e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[d,"All Orders (",x,")"]})}),s[3]=x,s[4]=t):t=s[4];let l;s[5]!==n||s[6]!==m||s[7]!==r.data?(l=e.jsx(N,{children:r.data.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No orders found"}):e.jsx("div",{className:"space-y-4",children:r.data.map(a=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:a.order_number}),e.jsx(y,{style:{backgroundColor:a.status_color},children:a.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Garment:"})," ",a.garment_type]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Tailor:"})," ",a.tailor]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Order Date:"})," ",new Date(a.order_date).toLocaleDateString()]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Delivery:"})," ",new Date(a.delivery_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Total:"})," ",n(a.total_amount)]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Paid:"})," ",n(a.paid_amount)]}),a.balance_due>0&&e.jsxs("span",{className:"text-red-600 font-medium",children:[e.jsx("strong",{children:"Due:"})," ",n(a.balance_due)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{href:`/customer-dashboard/orders/${a.id}`,children:e.jsxs(h,{size:"sm",variant:"outline",children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),"View"]})}),m("download_own_invoices")&&e.jsx("a",{href:`/customer-dashboard/orders/${a.id}/invoice`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{size:"sm",variant:"outline",children:e.jsx(k,{className:"h-4 w-4"})})})]})]})},a.id))})}),s[5]=n,s[6]=m,s[7]=r.data,s[8]=l):l=s[8];let o;return s[9]!==t||s[10]!==l?(o=e.jsxs(b,{breadcrumbs:L,children:[i,e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[c,e.jsxs(C,{children:[t,l]})]})]}),s[9]=t,s[10]=l,s[11]=o):o=s[11],o}export{G as default};
