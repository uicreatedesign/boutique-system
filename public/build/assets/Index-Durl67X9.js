import{c as H,e as T,r as w,j as e,L,a as R,H as z}from"./app-CffiqNU8.js";import{P as G}from"./pagination-BP_X5vFs.js";import{B as I,S as M,A as U}from"./app-layout-DBPI92Eh.js";import{B as k}from"./app-logo-icon--yYNTe1C.js";import{b as $,C as F,a as q,c as V}from"./card-DVwqPDdc.js";import{I as W}from"./input-BkarJN-J.js";import{u as J}from"./use-currency-BW_eJEh3.js";import{S as r}from"./skeleton-CPK7Fqe2.js";import{E as K}from"./eye-dRF30cu-.js";import{S as Q}from"./square-pen-mNg0KYs0.js";import{P as X}from"./plus-BRZYnxUd.js";/* empty css            */import"./select-fGld0rLh.js";import"./index-CArgOAzI.js";import"./index-vVxtxZjB.js";import"./index-DiTBNgxL.js";import"./check-CObYd6tp.js";import"./chevron-left-Dh2SFRku.js";import"./index-C4J_hXM0.js";function Ne(E){const s=H.c(31),{orders:a,canCreate:O,canEdit:A}=E,_=O===void 0?!1:O,v=A===void 0?!1:A,{url:y}=T(),D=new URLSearchParams(window.location.search),[h]=w.useState(10),[S,B]=w.useState(D.get("search")||""),[C]=w.useState(!1),{formatCurrency:P}=J();let x;s[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{const o=new URLSearchParams(window.location.search).get("search");o&&B(o)},s[0]=x):x=s[0];let p;s[1]!==y?(p=[y],s[1]=y,s[2]=p):p=s[2],w.useEffect(x,p);let j;s[3]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsx(z,{title:"Orders"}),s[3]=j):j=s[3];let f;s[4]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),s[4]=f):f=s[4];let l;s[5]!==_?(l=_&&e.jsx(L,{href:"/orders/create",children:e.jsxs(k,{children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Create Order"]})}),s[5]=_,s[6]=l):l=s[6];let c;s[7]!==l?(c=e.jsxs("div",{className:"flex items-center justify-between",children:[f,l]}),s[7]=l,s[8]=c):c=s[8];let u;s[9]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsx(F,{children:"Order List"}),s[9]=u):u=s[9];let N;s[10]===Symbol.for("react.memo_cache_sentinel")?(N=e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s[10]=N):N=s[10];let g;s[11]===Symbol.for("react.memo_cache_sentinel")?(g=t=>{B(t.target.value);const o=new URLSearchParams(window.location.search);t.target.value?o.set("search",t.target.value):o.delete("search"),R.get("/orders",Object.fromEntries(o),{preserveState:!0,replace:!0})},s[11]=g):g=s[11];let n;s[12]!==S?(n=e.jsx(q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[u,e.jsxs("div",{className:"relative max-w-sm",children:[N,e.jsx(W,{placeholder:"Search orders...",value:S,onChange:g,className:"pl-10"})]})]})}),s[12]=S,s[13]=n):n=s[13];let i;s[14]!==v||s[15]!==P||s[16]!==C||s[17]!==a.data?(i=e.jsx($,{children:C?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4",children:"Order #"}),e.jsx("th",{className:"text-left p-4",children:"Customer"}),e.jsx("th",{className:"text-left p-4",children:"Garment"}),e.jsx("th",{className:"text-left p-4",children:"Tailor"}),e.jsx("th",{className:"text-left p-4",children:"Status"}),e.jsx("th",{className:"text-left p-4",children:"Delivery"}),e.jsx("th",{className:"text-left p-4",children:"Amount"}),e.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),e.jsx("tbody",{children:[...Array(5)].map(Y)})]})}):a.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsx("svg",{className:"w-48 h-48 mb-6 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Orders Found"}),e.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-md",children:"Get started by creating your first order."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4",children:"Order #"}),e.jsx("th",{className:"text-left p-4",children:"Customer"}),e.jsx("th",{className:"text-left p-4",children:"Garment"}),e.jsx("th",{className:"text-left p-4",children:"Tailor"}),e.jsx("th",{className:"text-left p-4",children:"Status"}),e.jsx("th",{className:"text-left p-4",children:"Delivery"}),e.jsx("th",{className:"text-left p-4",children:"Amount"}),e.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),e.jsx("tbody",{children:a.data.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-[oklch(0.269_0_0)]",children:[e.jsx("td",{className:"p-4 font-medium",children:t.order_number}),e.jsx("td",{className:"p-4",children:t.customer.name}),e.jsx("td",{className:"p-4",children:t.garment_type.name}),e.jsx("td",{className:"p-4",children:t.tailor.name}),e.jsx("td",{className:"p-4",children:e.jsx(I,{style:{backgroundColor:t.stitching_status.color},children:t.stitching_status.name})}),e.jsx("td",{className:"p-4 text-sm",children:new Date(t.delivery_date).toLocaleDateString()}),e.jsx("td",{className:"p-4",children:P(t.total_amount)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{href:`/orders/${t.id}`,children:e.jsx(k,{size:"sm",variant:"outline",children:e.jsx(K,{className:"h-4 w-4"})})}),v&&e.jsx(L,{href:`/orders/${t.id}/edit`,children:e.jsx(k,{size:"sm",variant:"outline",children:e.jsx(Q,{className:"h-4 w-4"})})})]})})]},t.id))})]})})}),s[14]=v,s[15]=P,s[16]=C,s[17]=a.data,s[18]=i):i=s[18];let m;s[19]!==n||s[20]!==i?(m=e.jsxs(V,{children:[n,i]}),s[19]=n,s[20]=i,s[21]=m):m=s[21];let d;s[22]!==a.current_page||s[23]!==a.data.length||s[24]!==a.last_page||s[25]!==h?(d=a.data.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx(G,{currentPage:a.current_page,totalPages:a.last_page,onPageChange:t=>R.get("/orders",{page:t,per_page:h},{preserveState:!0}),showingFrom:(a.current_page-1)*h+1,showingTo:Math.min(a.current_page*h,a.data.length),total:a.data.length})}),s[22]=a.current_page,s[23]=a.data.length,s[24]=a.last_page,s[25]=h,s[26]=d):d=s[26];let b;return s[27]!==m||s[28]!==d||s[29]!==c?(b=e.jsxs(U,{children:[j,e.jsxs("div",{className:"space-y-6 p-4",children:[c,m,d]})]}),s[27]=m,s[28]=d,s[29]=c,s[30]=b):b=s[30],b}function Y(E,s){return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-5 w-32"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-28"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-24"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-28"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-6 w-20"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-24"})}),e.jsx("td",{className:"p-4",children:e.jsx(r,{className:"h-4 w-20"})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{className:"h-9 w-9"}),e.jsx(r,{className:"h-9 w-9"})]})})]},s)}export{Ne as default};
